!function(a,b){b.hammer=a,function(a,b){b.hammer=a;var c=function(a){return c[a]||(c[a]={}),c[a]},d=c("c"),f=c("i"),g=c("p");a.$$=c;var h=function(a){return Array.prototype.slice.call(a)},i=function(a){var b=h(arguments),c=b[1];"function"==typeof c?this.c[a]=c():(d[a]=b[2],d[a].$inject=c,d[a].$internal=this.i)},j=function(){i.apply({i:!1,c:a},h(arguments))},k=function(){i.apply({i:!0,c:f},h(arguments))},l=function(b,c){g[b]=!0;var e,h=c.$inject,i=[];for(var j in h)if(h.hasOwnProperty(j)&&(e=h[j],d[e])){if(g.hasOwnProperty(e))throw new Error('Cyclical reference: "'+b+'" referencing "'+e+'"');l(e,d[e]),delete d[e]}if(!a[b]&&!f[b]){for(var k in h)e=h[k],i.push(a[e]||f[e]);c.$internal?f[b]=c.apply(null,i)||b:a[b]=c.apply(null,i)||b}Object.defineProperty(a,"$$",{enumerable:!1,writable:!1}),delete g[b]};k("toArray",["isArguments","isArray","isUndefined"],function(a,b,c){var d=function(d){if(a(d))return Array.prototype.slice.call(d,0)||[];try{if(b(d))return d;if(!c(d))return[].concat(d)}catch(e){}return[]};return d}),j("framework",["dispatcher","toArray"],function(a,b){var c={};return a(c),c.fire=function(a,d){var e="color: blue";console.log("%c[event]",e,a,d||""),c.dispatch.apply(c,b(arguments))},c}),k("http",function(){function a(a){this.init(a)}function b(a){var b=c(this.getAllResponseHeaders()),d=this.responseText;return b.contentType&&-1!==b.contentType.indexOf("application/json")&&(d=d?JSON.parse(d):d),{data:d,request:{method:a.method,url:a.url,data:a.data,headers:a.headers},headers:b,status:this.status}}function c(a){for(var b,c=a.split("\n"),d={},e=0,f=c.length;f>e;)b=c[e].split(": "),b[0]&&b[1]&&(b[0]=b[0].split("-").join("").split(""),b[0][0]=b[0][0].toLowerCase(),d[b[0].join("")]=b[1]),e+=1;return d}function d(a,b){for(var c in b)b.hasOwnProperty(c)&&void 0===a[c]&&("object"==typeof b[c]?(a[c]={},d(a[c],b[c])):a[c]=b[c]);return a}function e(b){return!(!l.mocker||!l.mocker.handle(b,a))}var f,g=function(a){var b=[];for(var c in a)a.hasOwnProperty(c)&&b.push(encodeURIComponent(c)+"="+encodeURIComponent(a[c]));return b.join("&")},h=window,i=function(){var a;return h.XMLHttpRequest&&"withCredentials"in new h.XMLHttpRequest?a=h.XMLHttpRequest:h.XDomainRequest&&(a=h.XDomainRequest),a}(),j=["head","get","post","put","delete"],k=j.length,l={};for(a.prototype.init=function(a){var b=this;return b.xhr=new i,b.method=a.method,b.url=a.url,b.success=a.success,b.error=a.error,b.data=a.data,b.headers=a.headers,a.credentials===!0&&(b.xhr.withCredentials=!0),b.send(),b},a.prototype.send=function(){var a=this;if("GET"===a.method&&a.data){var c=a.url.indexOf("?")>-1?"&":"?";a.url+=c+g(a.data)}else a.data=JSON.stringify(a.data);return void 0!==a.success&&(a.xhr.onload=function(){var c=b.call(this,a);this.status>=200&&this.status<300?a.success.call(this,c):void 0!==a.error&&a.error.call(this,c)}),void 0!==a.error&&(a.xhr.error=function(){var c=b.call(this,a);a.error.call(this,c)}),a.xhr.open(a.method,a.url,!0),void 0!==a.headers&&a.setHeaders(),a.xhr.send(a.data,!0),a},a.prototype.setHeaders=function(){var a,b=this,c=b.headers;for(a in c)c.hasOwnProperty(a)&&b.xhr.setRequestHeader(a,c[a]);return b},f=0;k>f;f+=1)!function(){var b=j[f];l[b]=function(c,e,f){var g={};if(void 0===c)throw new Error("CORS: url must be defined");return"object"==typeof c?g=c:("function"==typeof e&&(g.success=e),"function"==typeof f&&(g.error=f),g.url=c),g.method=b.toUpperCase(),d(g,l.defaults),l.handleMock(g)?void 0:new a(g).xhr}}();return l.mocker=null,l.handleMock=e,l.defaults={headers:{}},l}),k("framework.plugin",["framework","interpolate","extend","http"],function(a,b,c,d){var f,g,h={},i=function(){a.fire("plugin::init");var c,e=0;for(var f in h)c=h[f],c.url&&(e++,d.get({url:c.url,success:function(c){e--,b(window,c.data),0===e&&a.fire("plugin::ready",h)}})),console.log("%c[plugin]","color: orange",f,h[f].url)};a.on("registry::ready",function(a,b){f=b;var c;for(e in b.plugins)b.plugins.hasOwnProperty(e)&&(c=b.plugins[e],h[c.name]=c)}),a.on("config::ready",function(a,b){g=b;var d;for(var e in b.plugins)b.plugins.hasOwnProperty(e)&&(d=b.plugins[e],h[d.name]=c({},h[d.name],d));i()})}),k("string.supplant",function(){return String.prototype.supplant||(String.prototype.supplant=function(a){return this.replace(/{([^{}]*)}/g,function(b,c){var d=a[c];return"string"==typeof d||"number"==typeof d?d:b})}),!0}),k("interpolate",function(){var a=function(a,b){var c=Function,d=new c("return "+b).apply(a);return d+""=="NaN"&&(d=""),d};return a}),k("extend",["toArray"],function(a){var b=function(c){for(var d,e,f=a(arguments),g=1,h=f.length,i=this||{};h>g;){d=f[g];for(e in d)d.hasOwnProperty(e)&&(c[e]&&"object"==typeof c[e]&&!d[e]instanceof Array?c[e]=b.apply(i,[c[e],d[e]]):d[e]instanceof Array?(c[e]=c[e]||(i&&i.arrayAsObject?{length:d[e].length}:[]),d[e].length&&(c[e]=b.apply(i,[c[e],d[e]]))):d[e]&&"object"==typeof d[e]?(i.objectsAsArray&&"number"==typeof d[e].length&&(c[e]instanceof Array||(c[e]=[])),c[e]=b.apply(i,[c[e]||{},d[e]])):c[e]=d[e]);g+=1}return c};return b}),k("framework.config",["framework","http"],function(a,b){var c,d="config.json";a.on("registry::ready",function(){a.fire("config::init"),b.get({url:d,success:function(b){c=b.data,a.fire("config::ready",c)}})})}),k("isArguments",function(a){var b=function(b){var c=String(b),d="[object Arguments]"===c;return d||(d="[object Array]"!==c&&null!==b&&"object"==typeof b&&"number"==typeof b.length&&b.length>=0&&"[object Function]"===a.call(b.callee)),d};return b}),k("isArray",function(){Array.prototype.__isArray=!0,Object.defineProperty(Array.prototype,"__isArray",{enumerable:!1,writable:!0});var a=function(a){return a?!!a.__isArray:!1};return a}),k("isUndefined",function(){var a=function(a){return"undefined"==typeof a};return a}),k("framework.registry",["framework","http"],function(a,b){var c,d="registry.json";a.fire("registry::init"),b.get({url:d,success:function(b){c=b.data,a.fire("registry::ready",c)}})}),k("framework.view",["framework","interpolate","extend","http"],function(a,b,c,d){var f,g,h={},i=function(){a.fire("view::init");var c,e=0;for(var f in h)c=h[f],c.url&&(e++,d.get({url:c.url,success:function(c){e--,b(window,c.data),0===e&&a.fire("view::ready",h)}})),console.log("%c[view]","color: purple",f,h[f].url)};a.on("registry::ready",function(a,b){f=b;var c;for(e in b.views)b.views.hasOwnProperty(e)&&(c=b.views[e],h[c.name]=c)}),a.on("config::ready",function(a,b){g=b;var d;for(var e in b.views)b.views.hasOwnProperty(e)&&(d=b.views[e],h[d.name]=c({},h[d.name],d));i()})}),k("dispatcher",function(){var a=function(a,b,c){function d(a,b){var c,d;d=j[a],d&&(b?(c=d.indexOf(b),-1!==c&&d.splice(c,1)):d.length=0)}function e(a,b){return j[a]=j[a]||[],j[a].push(b),function(){d(a,b)}}function f(c,f){function g(){d(c,g),f.apply(b||a,arguments)}return e(c,g)}function g(a){return j[a]}function h(b,c){return b&&b.apply(a,c)}function i(a){if(j[a])for(var b=0,c=j[a],d=c.length;d>b;)h(c[b],arguments),b+=1;j.all&&"all"!==a&&i("all")}var j={};b&&c?(a.on=b[c.on]&&b[c.on].bind(b),a.off=b[c.off]&&b[c.off].bind(b),a.once=b[c.once]&&b[c.once].bind(b),a.dispatch=a.fire=b[c.dispatch].bind(b)):(a.on=e,a.off=d,a.once=f,a.dispatch=a.fire=i),a.getListeners=g};return a});for(var m in d)l(m,d[m])}(this.hammer||{},function(){return this}())}({},function(){return this}());