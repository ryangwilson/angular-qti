/*
* qti-1.2-engine 0.1.0
*/
!function(a,b){b["qti-1.2-engine"]=a,angular.module("pearsonvue",[]),angular.module("pearsonvue").constant("PV_CONFIG",{}),angular.module("pearsonvue").directive("font",function(){return{restrict:"E",scope:!0,link:function(a,b,c){c.size;b[0].removeAttribute("size"),b.css("fontSize",c.size+"px")}}}),angular.module("pearsonvue").directive("pearsonvueMatExtension",["$compile","helpers",function(a,b){"use strict";var c=function(a,b,c){var d=a.getAttribute("style")||"";d+=";"+b+":"+c,a.setAttribute("style",d)},d=function(a,b){switch(a){case"numeric":return Number((b+"").replace(/(\D+)/gim,""));case"dictionary-case-insensitive":return b;case"asciibetical":return b}return e(b+"")},e=function(a){for(var b="",c=0;c<a.length;c++){var d=a.charCodeAt(c);b+="&#"+d+";"}return b},f=function(a){return a===parseFloat(a,10)};return{restrict:"E",link:function(e,g){var h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x;e.head={},e.body=[],e.sort={},e.selectedCls=function(a){return a===e.sort.column?e.sort.reverse?"fa fa-chevron-down":"fa fa-chevron-up":void 0},e.changeSorting=function(a,b){if(b){var c=e.sort;c.column===a?c.reverse=!c.reverse:(c.column=a,c.reverse=!1)}},e.isEven=function(a){return f(a)&&a%2===0},e.isOdd=function(a){return f(a)&&Math.abs(a)%2===1},h=g[0].innerHTML;var y=h.match(/<nth-child(.|\n)*?nth-child>/gim);if(y&&(y=b.strToXML(y[0]).firstChild),h=h.replace(/<nth-child(.|\n)*?nth-child>/gim,""),i=b.strToXML(h).firstChild,i.hasAttribute("border")&&(j=i.getAttribute("border")||"1"),x=i.querySelector("thead tr").getAttribute("bgcolor")||"red",j&&(c(i,"border-width",j+"px"),i.removeAttribute("border"),i.setAttribute("data-border",j)),i.hasAttribute("cellspacing")){var z=(i.getAttribute("cellspacing")||0)+"px";c(i,"border-spacing",z)}if(i.hasAttribute("bgcolor")){var A=i.getAttribute("bgcolor");c(i,"background-color",A)}for(c(i,"border-color",x),l=i.querySelectorAll("colgroup"),p=i.querySelectorAll("th"),q=i.querySelectorAll("td"),s=[],k=0;k<q.length;k++)s.push(q[k].textContent),t=k%p.length,0===t&&(u={},e.body.push(u)),u["col_"+t]={width:l[t].getAttribute("width"),label:q[k].textContent,value:d(l[t].getAttribute("sort_rule"),q[k].textContent),rule:l[t].getAttribute("sort_rule")};var B=(i.getAttribute("cellpadding")||0)+"px";for(k=0;k<p.length;k++){c(p[k],"padding",B);var C=l[k].getAttribute("sort_rule")||"";C&&(p[k].setAttribute("ng-click","changeSorting('col_"+k+".value', '"+C+"')"),p[k].insertAdjacentHTML("afterBegin",'<span class="sort-indicator" ng-class="selectedCls(\'col_'+k+".value')\"></span>"))}if(m=i.querySelector("tbody"),o=i.querySelector("tbody tr"),o.setAttribute("ng-repeat","row in body | orderBy:sort.column:sort.reverse"),y){var D=y.getAttribute("count"),E=y.getAttribute("bgcolor");switch(D){case"odd":o.setAttribute("ng-style","{ background: (isOdd($index) && '"+E+"' || 'none') }");break;case"even":o.setAttribute("ng-style","{ background: (isEven($index) && '"+E+"' || 'none') }");break;default:o.setAttribute("ng-style","{ background: ($index == "+(D-1)+" && '"+E+"' || 'none') }")}console.log("nthChild",y.getAttribute("count"))}for(n=i.querySelectorAll("tbody > tr > td"),k=0;k<p.length;k+=1){for(c(n[k],"padding",B),r=n[k];r.firstChild;)r=r.firstChild;r.nodeValue="{{row.col_"+k+".label}}"}m.innerHTML=o.outerHTML,v=a(i.outerHTML),w=v(e),g.empty(),g.append(w)}}}]),angular.module("pearsonvue").directive("pearsonvueObjectivesref",function(){return{restrict:"E",link:function(){}}}),angular.module("pearsonvue").directive("pearsonvueScalefactor",function(){return{restrict:"E",link:function(){}}}),document.getElementById&&document.childNodes&&document.createElement&&(window.MathJax&&MathJax.Hub||(window.MathJax=window.MathJax?{AuthorConfig:window.MathJax}:{},MathJax.isPacked=!0,MathJax.version="2.4.0",MathJax.fileversion="2.4.0",MathJax.cdnVersion="2.4-beta-2",MathJax.cdnFileVersions={},function(a){var b=window[a];b||(b=window[a]={});var c=[],d=function(a){var b=a.constructor;b||(b=function(){});for(var c in a)"constructor"!==c&&a.hasOwnProperty(c)&&(b[c]=a[c]);return b},e=function(){return function(){return arguments.callee.Init.call(this,arguments)}};b.Object=d({constructor:e(),Subclass:function(a,b){var d=e();return d.SUPER=this,d.Init=this.Init,d.Subclass=this.Subclass,d.Augment=this.Augment,d.protoFunction=this.protoFunction,d.can=this.can,d.has=this.has,d.isa=this.isa,d.prototype=new this(c),d.prototype.constructor=d,d.Augment(a,b),d},Init:function(a){var b=this;return 1===a.length&&a[0]===c?b:(b instanceof a.callee||(b=new a.callee(c)),b.Init.apply(b,a)||b)},Augment:function(a,b){var c;if(null!=a){for(c in a)a.hasOwnProperty(c)&&this.protoFunction(c,a[c]);a.toString!==this.prototype.toString&&a.toString!=={}.toString&&this.protoFunction("toString",a.toString)}if(null!=b)for(c in b)b.hasOwnProperty(c)&&(this[c]=b[c]);return this},protoFunction:function(a,b){this.prototype[a]=b,"function"==typeof b&&(b.SUPER=this.SUPER.prototype)},prototype:{Init:function(){},SUPER:function(a){return a.callee.SUPER},can:function(a){return"function"==typeof this[a]},has:function(a){return"undefined"!=typeof this[a]},isa:function(a){return a instanceof Object&&this instanceof a}},can:function(a){return this.prototype.can.call(this,a)},has:function(a){return this.prototype.has.call(this,a)},isa:function(a){for(var b=this;b;){if(b===a)return!0;b=b.SUPER}return!1},SimpleSUPER:d({constructor:function(a){return this.SimpleSUPER.define(a)},define:function(a){var b={};if(null!=a){for(var c in a)a.hasOwnProperty(c)&&(b[c]=this.wrap(c,a[c]));a.toString!==this.prototype.toString&&a.toString!=={}.toString&&(b.toString=this.wrap("toString",a.toString))}return b},wrap:function(a,b){if("function"!=typeof b||!b.toString().match(/\.\s*SUPER\s*\(/))return b;var c=function(){this.SUPER=c.SUPER[a];try{var d=b.apply(this,arguments)}catch(e){throw delete this.SUPER,e}return delete this.SUPER,d};return c.toString=function(){return b.toString.apply(b,arguments)},c}})})}("MathJax"),function(a){var b=window[a];b||(b=window[a]={});var c=function(a){var b=function(){return arguments.callee.execute.apply(arguments.callee,arguments)};for(var d in c.prototype)c.prototype.hasOwnProperty(d)&&(b[d]="undefined"!=typeof a[d]?a[d]:c.prototype[d]);return b.toString=c.prototype.toString,b};c.prototype={isCallback:!0,hook:function(){},data:[],object:window,execute:function(){return!this.called||this.autoReset?(this.called=!this.autoReset,this.hook.apply(this.object,this.data.concat([].slice.call(arguments,0)))):void 0},reset:function(){delete this.called},toString:function(){return this.hook.toString.apply(this.hook,arguments)}};var d=function(a){return"function"==typeof a&&a.isCallback},e=function(a){return eval.call(window,a)},f=function(){if(e("var __TeSt_VaR__ = 1"),window.__TeSt_VaR__)try{delete window.__TeSt_VaR__}catch(c){window.__TeSt_VaR__=null}else e=window.execScript?function(c){b.__code=c,c="try {"+a+".__result = eval("+a+".__code)} catch(err) {"+a+".__result = err}",window.execScript(c);var d=b.__result;if(delete b.__result,delete b.__code,d instanceof Error)throw d;return d}:function(c){b.__code=c,c="try {"+a+".__result = eval("+a+".__code)} catch(err) {"+a+".__result = err}";var d=document.getElementsByTagName("head")[0];d||(d=document.body);var e=document.createElement("script");e.appendChild(document.createTextNode(c)),d.appendChild(e),d.removeChild(e);var f=b.__result;if(delete b.__result,delete b.__code,f instanceof Error)throw f;return f};f=null},g=function(a,b){if(arguments.length>1&&(a=2===arguments.length&&"function"!=typeof arguments[0]&&arguments[0]instanceof Object&&"number"==typeof arguments[1]?[].slice.call(a,b):[].slice.call(arguments,0)),a instanceof Array&&1===a.length&&(a=a[0]),"function"==typeof a)return a.execute===c.prototype.execute?a:c({hook:a});if(a instanceof Array){if("string"==typeof a[0]&&a[1]instanceof Object&&"function"==typeof a[1][a[0]])return c({hook:a[1][a[0]],object:a[1],data:a.slice(2)});if("function"==typeof a[0])return c({hook:a[0],data:a.slice(1)});if("function"==typeof a[1])return c({hook:a[1],object:a[0],data:a.slice(2)})}else{if("string"==typeof a)return f&&f(),c({hook:e,data:[a]});if(a instanceof Object)return c(a);if("undefined"==typeof a)return c({})}throw Error("Can't make callback from given data")},h=function(a,b){return b=g(b),b.timeout=setTimeout(b,a),b},i=function(a,b){a=g(a),a.called||(k(a,b),b.pending++)},j=function(){var a=this.signal;delete this.signal,this.execute=this.oldExecute,delete this.oldExecute;var b=this.execute.apply(this,arguments);if(d(b)&&!b.called)k(b,a);else for(var c=0,e=a.length;e>c;c++)a[c].pending--,a[c].pending<=0&&a[c].call()},k=function(a,b){b instanceof Array||(b=[b]),a.signal?1===b.length?a.signal.push(b[0]):a.signal=a.signal.concat(b):(a.oldExecute=a.execute,a.execute=j,a.signal=b)},l=function(a){a=g(a),a.pending=0;for(var b=1,c=arguments.length;c>b;b++)arguments[b]&&i(arguments[b],a);if(0===a.pending){var e=a();d(e)&&(a=e)}return a},m=MathJax.Object.Subclass({Init:function(a){this.hooks=[],this.reset=a},Add:function(a,b){null==b&&(b=10),d(a)||(a=g(a)),a.priority=b;for(var c=this.hooks.length;c>0&&b<this.hooks[c-1].priority;)c--;return this.hooks.splice(c,0,a),a},Remove:function(a){for(var b=0,c=this.hooks.length;c>b;b++)if(this.hooks[b]===a)return void this.hooks.splice(b,1)},Execute:function(){for(var a=[{}],b=0,c=this.hooks.length;c>b;b++){this.reset&&this.hooks[b].reset();var e=this.hooks[b].apply(window,arguments);d(e)&&!e.called&&a.push(e)}return 1===a.length?null:2===a.length?a[1]:l.apply({},a)}}),n=function(a,b,c){if(!a)return null;a instanceof Array||(a=[a]),b instanceof Array||(b=null==b?[]:[b]);for(var d=m(c),e=0,f=a.length;f>e;e++)d.Add(a[e]);return d.Execute.apply(d,b)},o=b.Object.Subclass({Init:function(){this.pending=0,this.running=0,this.queue=[],this.Push.apply(this,arguments)},Push:function(){for(var a,b=0,c=arguments.length;c>b;b++)a=g(arguments[b]),a!==arguments[b]||a.called||(a=g(["wait",this,a])),this.queue.push(a);return this.running||this.pending||this.Process(),a},Process:function(a){for(;!this.running&&!this.pending&&this.queue.length;){var b=this.queue[0];a=this.queue.slice(1),this.queue=[],this.Suspend();var c=b();this.Resume(),a.length&&(this.queue=a.concat(this.queue)),d(c)&&!c.called&&i(c,this)}},Suspend:function(){this.running++},Resume:function(){this.running&&this.running--},call:function(){this.Process.apply(this,arguments)},wait:function(a){return a}}),p=o.Subclass({Init:function(a){o.prototype.Init.call(this),this.name=a,this.posted=[],this.listeners=m(!0)},Post:function(a,b,c){if(b=g(b),this.posting||this.pending)this.Push(["Post",this,a,b,c]);else{this.callback=b,b.reset(),c||this.posted.push(a),this.Suspend(),this.posting=!0;var e=this.listeners.Execute(a);d(e)&&!e.called&&i(e,this),this.Resume(),delete this.posting,this.pending||this.call()}return b},Clear:function(a){return a=g(a),this.posting||this.pending?a=this.Push(["Clear",this,a]):(this.posted=[],a()),a},call:function(){this.callback(this),this.Process()},Interest:function(a,b,c){if(a=g(a),this.listeners.Add(a,c),!b)for(var e=0,f=this.posted.length;f>e;e++){a.reset();var h=a(this.posted[e]);d(h)&&e===this.posted.length-1&&i(h,this)}return a},NoInterest:function(a){this.listeners.Remove(a)},MessageHook:function(a,b,c){b=g(b),this.hooks||(this.hooks={},this.Interest(["ExecuteHooks",this])),this.hooks[a]||(this.hooks[a]=m(!0)),this.hooks[a].Add(b,c);for(var d=0,e=this.posted.length;e>d;d++)this.posted[d]==a&&(b.reset(),b(this.posted[d]));return b},ExecuteHooks:function(a){var b=a instanceof Array?a[0]:a;return this.hooks[b]?this.hooks[b].Execute(a):null}},{signals:{},find:function(a){return p.signals[a]||(p.signals[a]=new p(a)),p.signals[a]}});b.Callback=b.CallBack=g,b.Callback.Delay=h,b.Callback.After=l,b.Callback.Queue=o,b.Callback.Signal=p.find,b.Callback.Hooks=m,b.Callback.ExecuteHooks=n}("MathJax"),function(a){var b=window[a];b||(b=window[a]={});var c="Apple Computer, Inc."===navigator.vendor&&"undefined"==typeof navigator.vendorSub,d=0,e=function(a){return document.styleSheets&&document.styleSheets.length>d&&(d=document.styleSheets.length),a||(a=document.getElementsByTagName("head")[0],a||(a=document.body)),a},f=[],g=function(){for(var a=0,c=f.length;c>a;a++)b.Ajax.head.removeChild(f[a]);f=[]},h={};h[a]="",b.Ajax={loaded:{},loading:{},loadHooks:{},timeout:15e3,styleDelay:1,config:{root:"",path:h},STATUS:{OK:1,ERROR:-1},fileURL:function(a){var b=a.match(/^\[([-._a-z0-9]+)\]/i);return b&&b[1]in h&&(a=(h[b[1]]||this.config.root)+a.substr(b[1].length+2)),a},fileName:function(b){var c=this.config.root;if(b.substr(0,c.length)===c)b="["+a+"]"+b.substr(c.length);else for(var d in h)if(h.hasOwnProperty(d)&&h[d]&&b.substr(0,h[d].length)===h[d]){b="["+d+"]"+b.substr(h[d].length);break}return b},fileRev:function(){var a=b.cdnFileVersions[name]||b.cdnVersion;return a&&(a="?rev="+a),a},urlRev:function(a){return this.fileURL(a)+this.fileRev(a)},Require:function(a,c){c=b.Callback(c);var d;if(a instanceof Object)for(var e in a)a.hasOwnProperty(e)&&(d=e.toUpperCase(),a=a[e]);else d=a.split(/\./).pop().toUpperCase();if(a=this.fileURL(a),this.loaded[a])c(this.loaded[a]);else{var f={};f[d]=a,this.Load(f,c)}return c},Load:function(a,c){c=b.Callback(c);var d;if(a instanceof Object)for(var f in a)a.hasOwnProperty(f)&&(d=f.toUpperCase(),a=a[f]);else d=a.split(/\./).pop().toUpperCase();if(a=this.fileURL(a),this.loading[a])this.addHook(a,c);else{if(this.head=e(this.head),!this.loader[d])throw Error("Can't load files of type "+d);this.loader[d].call(this,a,c)}return c},LoadHook:function(a,c,d){if(c=b.Callback(c),a instanceof Object)for(var e in a)a.hasOwnProperty(e)&&(a=a[e]);return a=this.fileURL(a),this.loaded[a]?c(this.loaded[a]):this.addHook(a,c,d),c},addHook:function(a,b,c){this.loadHooks[a]||(this.loadHooks[a]=MathJax.Callback.Hooks()),this.loadHooks[a].Add(b,c)},Preloading:function(){for(var a=0,b=arguments.length;b>a;a++){var c=this.fileURL(arguments[a]);this.loading[c]||(this.loading[c]={preloaded:!0})}},loader:{JS:function(a,c){var d=this.fileName(a),e=document.createElement("script"),f=b.Callback(["loadTimeout",this,a]);this.loading[a]={callback:c,timeout:setTimeout(f,this.timeout),status:this.STATUS.OK,script:e},this.loading[a].message=b.Message.File(d),e.onerror=f,e.type="text/javascript",e.src=a+this.fileRev(d),this.head.appendChild(e)},CSS:function(a,c){var d=this.fileName(a),e=document.createElement("link");e.rel="stylesheet",e.type="text/css",e.href=a+this.fileRev(d),this.loading[a]={callback:c,message:b.Message.File(d),status:this.STATUS.OK},this.head.appendChild(e),this.timer.create.call(this,[this.timer.file,a],e)}},timer:{create:function(a,e){return a=b.Callback(a),"STYLE"===e.nodeName&&e.styleSheet&&"undefined"!=typeof e.styleSheet.cssText?a(this.STATUS.OK):window.chrome&&"LINK"===e.nodeName?a(this.STATUS.OK):c?this.timer.start(this,[this.timer.checkSafari2,d++,a],this.styleDelay):this.timer.start(this,[this.timer.checkLength,e,a],this.styleDelay),a},start:function(a,c,d,e){c=b.Callback(c),c.execute=this.execute,c.time=this.time,c.STATUS=a.STATUS,c.timeout=e||a.timeout,c.delay=c.total=d||0,d?setTimeout(c,d):c()},time:function(a){return this.total+=this.delay,this.delay=Math.floor(1.05*this.delay+5),this.total>=this.timeout?(a(this.STATUS.ERROR),1):0},file:function(a,c){0>c?b.Ajax.loadTimeout(a):b.Ajax.loadComplete(a)},execute:function(){this.hook.call(this.object,this,this.data[0],this.data[1])},checkSafari2:function(a,b,c){a.time(c)||(document.styleSheets.length>b&&document.styleSheets[b].cssRules&&document.styleSheets[b].cssRules.length?c(a.STATUS.OK):setTimeout(a,a.delay))},checkLength:function(a,c,d){if(!a.time(d)){var e=0,f=c.sheet||c.styleSheet;try{(f.cssRules||f.rules||[]).length>0&&(e=1)}catch(g){g.message.match(/protected variable|restricted URI/)?e=1:g.message.match(/Security error/)&&(e=1)}e?setTimeout(b.Callback([d,a.STATUS.OK]),0):setTimeout(a,a.delay)}}},loadComplete:function(a){a=this.fileURL(a);var c=this.loading[a];return c&&!c.preloaded?(b.Message.Clear(c.message),clearTimeout(c.timeout),c.script&&(0===f.length&&setTimeout(g,0),f.push(c.script)),this.loaded[a]=c.status,delete this.loading[a],this.addHook(a,c.callback)):(c&&delete this.loading[a],this.loaded[a]=this.STATUS.OK,c={status:this.STATUS.OK}),this.loadHooks[a]?this.loadHooks[a].Execute(c.status):null},loadTimeout:function(a){this.loading[a].timeout&&clearTimeout(this.loading[a].timeout),this.loading[a].status=this.STATUS.ERROR,this.loadError(a),this.loadComplete(a)},loadError:function(a){b.Message.Set(["LoadFailed","File failed to load: %1",a],null,2e3),b.Hub.signal.Post(["file load error",a])},Styles:function(a,c){var d=this.StyleString(a);if(""===d)(c=b.Callback(c))();else{var f=document.createElement("style");f.type="text/css",this.head=e(this.head),this.head.appendChild(f),f.styleSheet&&"undefined"!=typeof f.styleSheet.cssText?f.styleSheet.cssText=d:f.appendChild(document.createTextNode(d)),c=this.timer.create.call(this,c,f)}return c},StyleString:function(a){if("string"==typeof a)return a;var b,c,d="";for(b in a)if(a.hasOwnProperty(b))if("string"==typeof a[b])d+=b+" {"+a[b]+"}\n";else if(a[b]instanceof Array)for(var e=0;e<a[b].length;e++)c={},c[b]=a[b][e],d+=this.StyleString(c);else if("@media"===b.substr(0,6))d+=b+" {"+this.StyleString(a[b])+"}\n";else if(null!=a[b]){c=[];for(var f in a[b])a[b].hasOwnProperty(f)&&null!=a[b][f]&&(c[c.length]=f+": "+a[b][f]);d+=b+" {"+c.join("; ")+"}\n"}return d}}}("MathJax"),MathJax.HTML={Element:function(a,b,c){var d=document.createElement(a);if(b){if(b.style){var e=b.style;b.style={};for(var f in e)e.hasOwnProperty(f)&&(b.style[f.replace(/-([a-z])/g,this.ucMatch)]=e[f])}MathJax.Hub.Insert(d,b)}if(c){c instanceof Array||(c=[c]);for(var g=0;g<c.length;g++)c[g]instanceof Array?d.appendChild(this.Element(c[g][0],c[g][1],c[g][2])):"script"===a?this.setScript(d,c[g]):d.appendChild(document.createTextNode(c[g]))}return d},ucMatch:function(a,b){return b.toUpperCase()},addElement:function(a,b,c,d){return a.appendChild(this.Element(b,c,d))},TextNode:function(a){return document.createTextNode(a)},addText:function(a,b){return a.appendChild(this.TextNode(b))},setScript:function(a,b){if(this.setScriptBug)a.text=b;else{for(;a.firstChild;)a.removeChild(a.firstChild);this.addText(a,b)}},getScript:function(a){var b=""===a.text?a.innerHTML:a.text;return b.replace(/^\s+/,"").replace(/\s+$/,"")},Cookie:{prefix:"mjx",expires:365,Set:function(a,b){var c=[];if(b)for(var d in b)b.hasOwnProperty(d)&&c.push(d+":"+b[d].toString().replace(/&/g,"&&"));var e=this.prefix+"."+a+"="+escape(c.join("&;"));if(this.expires){var f=new Date;f.setDate(f.getDate()+this.expires),e+="; expires="+f.toGMTString()}try{document.cookie=e+"; path=/"}catch(g){}},Get:function(a,b){b||(b={});var c,d=new RegExp("(?:^|;\\s*)"+this.prefix+"\\."+a+"=([^;]*)(?:;|$)");try{c=d.exec(document.cookie)}catch(e){}if(c&&""!==c[1])for(var f=unescape(c[1]).split("&;"),g=0,h=f.length;h>g;g++){c=f[g].match(/([^:]+):(.*)/);var i=c[2].replace(/&&/g,"&");"true"===i?i=!0:"false"===i?i=!1:i.match(/^-?(\d+(\.\d+)?|\.\d+)$/)&&(i=parseFloat(i)),b[c[1]]=i}return b}}},MathJax.Localization={locale:"en",directory:"[MathJax]/localization",strings:{ast:{menuTitle:"asturianu"},br:{menuTitle:"brezhoneg"},ca:{menuTitle:"català"},cdo:{menuTitle:"Mìng-dĕ̤ng-ngṳ̄"},cs:{menuTitle:"čeština"},da:{menuTitle:"dansk"},de:{menuTitle:"Deutsch"},en:{menuTitle:"English",isLoaded:!0},eo:{menuTitle:"Esperanto"},es:{menuTitle:"español"},fa:{menuTitle:"فارسی"},fi:{menuTitle:"suomi"},fr:{menuTitle:"français"},gl:{menuTitle:"galego"},he:{menuTitle:"עברית"},ia:{menuTitle:"interlingua"},it:{menuTitle:"italiano"},ja:{menuTitle:"日本語"},kn:{menuTitle:"ಕನ್ನಡ"},ko:{menuTitle:"한국어"},lb:{menuTitle:"Lëtzebuergesch"},mk:{menuTitle:"македонски"},nl:{menuTitle:"Nederlands"},oc:{menuTitle:"occitan"},pl:{menuTitle:"polski"},pt:{menuTitle:"portugusê"},"pt-br":{menuTitle:"português do Brasil"},ru:{menuTitle:"русский"},sl:{menuTitle:"slovenščina"},sv:{menuTitle:"svenska"},tr:{menuTitle:"Türkçe"},uk:{menuTitle:"українська"},vi:{menuTitle:"Tiếng Việt"},"zh-hans":{menuTitle:"中文（简体）"}},pattern:/%(\d+|\{\d+\}|\{[a-z]+:\%\d+(?:\|(?:%\{\d+\}|%.|[^\}])*)+\}|.)/g,SPLIT:3==="axb".split(/(x)/).length?function(a,b){return a.split(b)}:function(a,b){var c,d=[],e=0;for(b.lastIndex=0;c=b.exec(a);)d.push(a.substr(e,c.index-e)),d.push.apply(d,c.slice(1)),e=c.index+c[0].length;return d.push(a.substr(e)),d},_:function(a,b){return b instanceof Array?this.processSnippet(a,b):this.processString(this.lookupPhrase(a,b),[].slice.call(arguments,2))},processString:function(a,b,c){var d,e;for(d=0,e=b.length;e>d;d++)c&&b[d]instanceof Array&&(b[d]=this.processSnippet(c,b[d]));var f=this.SPLIT(a,this.pattern);for(d=1,e=f.length;e>d;d+=2){var g=f[d].charAt(0);if(g>="0"&&"9">=g)f[d]=b[f[d]-1],"number"==typeof f[d]&&(f[d]=this.number(f[d]));else if("{"===g)if(g=f[d].substr(1),g>="0"&&"9">=g)f[d]=b[f[d].substr(1,f[d].length-2)-1],"number"==typeof f[d]&&(f[d]=this.number(f[d]));else{var h=f[d].match(/^\{([a-z]+):%(\d+)\|(.*)\}$/);if(h)if("plural"===h[1]){var i=b[h[2]-1];if("undefined"==typeof i)f[d]="???";else{i=this.plural(i)-1;var j=h[3].replace(/(^|[^%])(%%)*%\|/g,"$1$2%").split(/\|/);f[d]=i>=0&&i<j.length?this.processString(j[i].replace(/\uEFEF/g,"|"),b,c):"???"}}else f[d]="%"+f[d]}null==f[d]&&(f[d]="???")}if(!c)return f.join("");var k=[],l="";for(d=0;e>d;d++)l+=f[d],d++,e>d&&(f[d]instanceof Array?(k.push(l),k=k.concat(f[d]),l=""):l+=f[d]);return""!==l&&k.push(l),k},processSnippet:function(a,b){for(var c=[],d=0,e=b.length;e>d;d++)if(b[d]instanceof Array){var f=b[d];if("string"==typeof f[1]){var g=f[0];g instanceof Array||(g=[a,g]);var h=this.lookupPhrase(g,f[1]);c=c.concat(this.processMarkdown(h,f.slice(2),a))}else f[1]instanceof Array?c=c.concat(this.processSnippet.apply(this,f)):c.push(f.length>=3?[f[0],f[1],this.processSnippet(a,f[2])]:b[d])}else c.push(b[d]);return c},markdownPattern:/(%.)|(\*{1,3})((?:%.|.)+?)\2|(`+)((?:%.|.)+?)\4|\[((?:%.|.)+?)\]\(([^\s\)]+)\)/,processMarkdown:function(a,b,c){for(var d,e=[],f=a.split(this.markdownPattern),g=f[0],h=1,i=f.length;i>h;h+=8)f[h+1]?(d=this.processString(f[h+2],b,c),d instanceof Array||(d=[d]),d=[["b","i","i"][f[h+1].length-1],{},d],3===f[h+1].length&&(d=["b",{},d])):f[h+3]?(d=this.processString(f[h+4].replace(/^\s/,"").replace(/\s$/,""),b,c),d instanceof Array||(d=[d]),d=["code",{},d]):f[h+5]?(d=this.processString(f[h+5],b,c),d instanceof Array||(d=[d]),d=["a",{href:this.processString(f[h+6],b),target:"_blank"},d]):(g+=f[h],d=null),d&&(e=this.concatString(e,g,b,c),e.push(d),g=""),""!==f[h+7]&&(g+=f[h+7]);return e=this.concatString(e,g,b,c)},concatString:function(a,b,c,d){return""!=b&&(b=this.processString(b,c,d),b instanceof Array||(b=[b]),a=a.concat(b)),a},lookupPhrase:function(a,b,c){c||(c="_"),a instanceof Array&&(c=a[0]||"_",a=a[1]||"");var d=this.loadDomain(c);d&&MathJax.Hub.RestartAfter(d);var e=this.strings[this.locale];if(e&&e.domains&&c in e.domains){var f=e.domains[c];f.strings&&a in f.strings&&(b=f.strings[a])}return b},loadFile:function(a,b,c){if(c=MathJax.Callback(c),a=b.file||a,a.match(/\.js$/)||(a+=".js"),!a.match(/^([a-z]+:|\[MathJax\])/)){var d=this.strings[this.locale].directory||this.directory+"/"+this.locale||"[MathJax]/localization/"+this.locale;a=d+"/"+a}var e=MathJax.Ajax.Require(a,function(){return b.isLoaded=!0,c()});return e.called?null:e},loadDomain:function(a,b){var c,d=this.strings[this.locale];if(d){if(!d.isLoaded&&(c=this.loadFile(this.locale,d)))return MathJax.Callback.Queue(c,["loadDomain",this,a]).Push(b||{});if(d.domains&&a in d.domains){var e=d.domains[a];if(!e.isLoaded&&(c=this.loadFile(a,e)))return MathJax.Callback.Queue(c).Push(b)}}return MathJax.Callback(b)()},Try:function(a){a=MathJax.Callback(a),a.autoReset=!0;try{a()}catch(b){if(!b.restart)throw b;MathJax.Callback.After(["Try",this,a],b.restart)}},resetLocale:function(a){if(a){for(a=a.toLowerCase();!this.strings[a];){var b=a.lastIndexOf("-");if(-1===b)return;a=a.substring(0,b)}var c=this.strings[a].remap;this.locale=c?c:a}},setLocale:function(a){this.resetLocale(a),MathJax.Menu&&this.loadDomain("MathMenu")},addTranslation:function(a,b,c){var d=this.strings[a],e=!1;d||(d=this.strings[a]={},e=!0),d.domains||(d.domains={}),b&&(d.domains[b]||(d.domains[b]={}),d=d.domains[b]),MathJax.Hub.Insert(d,c),e&&MathJax.Menu.menu&&MathJax.Menu.CreateLocaleMenu()},setCSS:function(a){var b=this.strings[this.locale];return b&&(b.fontFamily&&(a.style.fontFamily=b.fontFamily),b.fontDirection&&(a.style.direction=b.fontDirection,"rtl"===b.fontDirection&&(a.style.textAlign="right"))),a},fontFamily:function(){var a=this.strings[this.locale];return a?a.fontFamily:null},fontDirection:function(){var a=this.strings[this.locale];return a?a.fontDirection:null},plural:function(a){var b=this.strings[this.locale];return b&&b.plural?b.plural(a):1==a?1:2},number:function(a){var b=this.strings[this.locale];return b&&b.number?b.number(a):a}},MathJax.Message={ready:!1,log:[{}],current:null,textNodeBug:"Apple Computer, Inc."===navigator.vendor&&"undefined"==typeof navigator.vendorSub||window.hasOwnProperty&&window.hasOwnProperty("konqueror"),styles:{"#MathJax_Message":{position:"fixed",left:"1px",bottom:"2px","background-color":"#E6E6E6",border:"1px solid #959595",margin:"0px",padding:"2px 8px","z-index":"102",color:"black","font-size":"80%",width:"auto","white-space":"nowrap"},"#MathJax_MSIE_Frame":{position:"absolute",top:0,left:0,width:"0px","z-index":101,border:"0px",margin:"0px",padding:"0px"}},browsers:{MSIE:function(){MathJax.Message.msieFixedPositionBug=(document.documentMode||0)<7,MathJax.Message.msieFixedPositionBug&&(MathJax.Hub.config.styles["#MathJax_Message"].position="absolute"),MathJax.Message.quirks="BackCompat"===document.compatMode},Chrome:function(){MathJax.Hub.config.styles["#MathJax_Message"].bottom="1.5em",MathJax.Hub.config.styles["#MathJax_Message"].left="1em"}},Init:function(a){if(a&&(this.ready=!0),!document.body||!this.ready)return!1;if(this.div&&null==this.div.parentNode&&(this.div=document.getElementById("MathJax_Message"),this.div&&(this.text=this.div.firstChild)),!this.div){var b=document.body;this.msieFixedPositionBug&&window.attachEvent&&(b=this.frame=this.addDiv(document.body),b.removeAttribute("id"),b.style.position="absolute",b.style.border=b.style.margin=b.style.padding="0px",b.style.zIndex="101",b.style.height="0px",b=this.addDiv(b),b.id="MathJax_MSIE_Frame",window.attachEvent("onscroll",this.MoveFrame),window.attachEvent("onresize",this.MoveFrame),this.MoveFrame()),this.div=this.addDiv(b),this.div.style.display="none",this.text=this.div.appendChild(document.createTextNode(""))}return!0},addDiv:function(a){var b=document.createElement("div");return b.id="MathJax_Message",a.firstChild?a.insertBefore(b,a.firstChild):a.appendChild(b),b},MoveFrame:function(){var a=MathJax.Message.quirks?document.body:document.documentElement,b=MathJax.Message.frame;b.style.left=a.scrollLeft+"px",b.style.top=a.scrollTop+"px",b.style.width=a.clientWidth+"px",b=b.firstChild,b.style.height=a.clientHeight+"px"},localize:function(a){return MathJax.Localization._(a,a)},filterText:function(a,b,c){return"simple"===MathJax.Hub.config.messageStyle&&("LoadFile"===c?(this.loading||(this.loading=this.localize("Loading")+" "),a=this.loading,this.loading+="."):"ProcessMath"===c?(this.processing||(this.processing=this.localize("Processing")+" "),a=this.processing,this.processing+="."):"TypesetMath"===c&&(this.typesetting||(this.typesetting=this.localize("Typesetting")+" "),a=this.typesetting,this.typesetting+=".")),a},Set:function(a,b,c){null==b&&(b=this.log.length,this.log[b]={});var d="";if(a instanceof Array){d=a[0],d instanceof Array&&(d=d[1]);try{a=MathJax.Localization._.apply(MathJax.Localization,a)}catch(e){if(!e.restart)throw e;if(!e.restart.called)return null==this.log[b].restarted&&(this.log[b].restarted=0),this.log[b].restarted++,delete this.log[b].cleared,MathJax.Callback.After(["Set",this,a,b,c],e.restart),b}}return this.timer&&(clearTimeout(this.timer),delete this.timer),this.log[b].text=a,this.log[b].filteredText=a=this.filterText(a,b,d),"undefined"==typeof this.log[b].next&&(this.log[b].next=this.current,null!=this.current&&(this.log[this.current].prev=b),this.current=b),this.current===b&&"none"!==MathJax.Hub.config.messageStyle&&(this.Init()?(this.textNodeBug?this.div.innerHTML=a:this.text.nodeValue=a,this.div.style.display="",this.status&&(window.status="",delete this.status)):(window.status=a,this.status=!0)),this.log[b].restarted&&(this.log[b].cleared&&(c=0),0===--this.log[b].restarted&&delete this.log[b].cleared),c?setTimeout(MathJax.Callback(["Clear",this,b]),c):0==c&&this.Clear(b,0),b},Clear:function(a,b){null!=this.log[a].prev&&(this.log[this.log[a].prev].next=this.log[a].next),null!=this.log[a].next&&(this.log[this.log[a].next].prev=this.log[a].prev),this.current===a&&(this.current=this.log[a].next,this.text?(null==this.div.parentNode&&this.Init(),null==this.current?(this.timer&&(clearTimeout(this.timer),delete this.timer),null==b&&(b=600),0===b?this.Remove():this.timer=setTimeout(MathJax.Callback(["Remove",this]),b)):"none"!==MathJax.Hub.config.messageStyle&&(this.textNodeBug?this.div.innerHTML=this.log[this.current].filteredText:this.text.nodeValue=this.log[this.current].filteredText),this.status&&(window.status="",delete this.status)):this.status&&(window.status=null==this.current?"":this.log[this.current].text)),delete this.log[a].next,delete this.log[a].prev,delete this.log[a].filteredText,this.log[a].restarted&&(this.log[a].cleared=!0)},Remove:function(){this.text.nodeValue="",this.div.style.display="none"},File:function(a){return this.Set(["LoadFile","Loading %1",a],null,null)},Log:function(){for(var a=[],b=1,c=this.log.length;c>b;b++)a[b]=this.log[b].text;return a.join("\n")}},MathJax.Hub={config:{root:"",config:[],styleSheets:[],styles:{".MathJax_Preview":{color:"#888"}},jax:[],extensions:[],preJax:null,postJax:null,displayAlign:"center",displayIndent:"0",preRemoveClass:"MathJax_Preview",showProcessingMessages:!0,messageStyle:"normal",delayStartupUntil:"none",skipStartupTypeset:!1,elements:[],positionToHash:!0,showMathMenu:!0,showMathMenuMSIE:!0,menuSettings:{zoom:"None",CTRL:!1,ALT:!1,CMD:!1,Shift:!1,discoverable:!1,zscale:"200%",renderer:"",font:"Auto",context:"MathJax",locale:"en",mpContext:!1,mpMouse:!1,texHints:!0,semantics:!1},errorSettings:{message:["[",["MathProcessingError","Math Processing Error"],"]"],style:{color:"#CC0000","font-style":"italic"}}},preProcessors:MathJax.Callback.Hooks(!0),inputJax:{},outputJax:{order:{}},processUpdateTime:250,processUpdateDelay:10,signal:MathJax.Callback.Signal("Hub"),Config:function(a){this.Insert(this.config,a),this.config.Augment&&this.Augment(this.config.Augment)},CombineConfig:function(a,b){var c,d,e=this.config;a=a.split(/\./);for(var f=0,g=a.length;g>f;f++)c=a[f],e[c]||(e[c]={}),d=e,e=e[c];return d[c]=e=this.Insert(b,e),e},Register:{PreProcessor:function(){MathJax.Hub.preProcessors.Add.apply(MathJax.Hub.preProcessors,arguments)},MessageHook:function(){return MathJax.Hub.signal.MessageHook.apply(MathJax.Hub.signal,arguments)},StartupHook:function(){return MathJax.Hub.Startup.signal.MessageHook.apply(MathJax.Hub.Startup.signal,arguments)},LoadHook:function(){return MathJax.Ajax.LoadHook.apply(MathJax.Ajax,arguments)}},getAllJax:function(a){for(var b=[],c=this.elementScripts(a),d=0,e=c.length;e>d;d++)c[d].MathJax&&c[d].MathJax.elementJax&&b.push(c[d].MathJax.elementJax);return b},getJaxByType:function(a,b){for(var c=[],d=this.elementScripts(b),e=0,f=d.length;f>e;e++)d[e].MathJax&&d[e].MathJax.elementJax&&d[e].MathJax.elementJax.mimeType===a&&c.push(d[e].MathJax.elementJax);return c},getJaxByInputType:function(a,b){for(var c=[],d=this.elementScripts(b),e=0,f=d.length;f>e;e++)d[e].MathJax&&d[e].MathJax.elementJax&&d[e].type&&d[e].type.replace(/ *;(.|\s)*/,"")===a&&c.push(d[e].MathJax.elementJax);return c},getJaxFor:function(a){if("string"==typeof a&&(a=document.getElementById(a)),a&&a.MathJax)return a.MathJax.elementJax;
if(a&&a.isMathJax){for(;a&&!a.jaxID;)a=a.parentNode;if(a)return MathJax.OutputJax[a.jaxID].getJaxFromMath(a)}return null},isJax:function(a){if("string"==typeof a&&(a=document.getElementById(a)),a&&a.isMathJax)return 1;if(a&&null!=a.tagName&&"script"===a.tagName.toLowerCase()){if(a.MathJax)return a.MathJax.state===MathJax.ElementJax.STATE.PROCESSED?1:-1;if(a.type&&this.inputJax[a.type.replace(/ *;(.|\s)*/,"")])return-1}return 0},setRenderer:function(a,b){if(a){if(MathJax.OutputJax[a]){this.config.menuSettings.renderer=a,null==b&&(b="jax/mml");var c=this.outputJax;return c[b]&&c[b].length&&a!==c[b][0].id?(c[b].unshift(MathJax.OutputJax[a]),this.signal.Post(["Renderer Selected",a])):null}this.config.menuSettings.renderer="";var d="[MathJax]/jax/output/"+a+"/config.js";return MathJax.Ajax.Require(d,["setRenderer",this,a,b])}},Queue:function(){return this.queue.Push.apply(this.queue,arguments)},Typeset:function(a,b){if(!MathJax.isReady)return null;for(var c=this.elementCallback(a,b),d=MathJax.Callback.Queue(),e=0,f=c.elements.length;f>e;e++)c.elements[e]&&d.Push(["PreProcess",this,c.elements[e]],["Process",this,c.elements[e]]);return d.Push(c.callback)},PreProcess:function(a,b){for(var c=this.elementCallback(a,b),d=MathJax.Callback.Queue(),e=0,f=c.elements.length;f>e;e++)c.elements[e]&&d.Push(["Post",this.signal,["Begin PreProcess",c.elements[e]]],arguments.callee.disabled?{}:["Execute",this.preProcessors,c.elements[e]],["Post",this.signal,["End PreProcess",c.elements[e]]]);return d.Push(c.callback)},Process:function(a,b){return this.takeAction("Process",a,b)},Update:function(a,b){return this.takeAction("Update",a,b)},Reprocess:function(a,b){return this.takeAction("Reprocess",a,b)},Rerender:function(a,b){return this.takeAction("Rerender",a,b)},takeAction:function(a,b,c){for(var d=this.elementCallback(b,c),e=MathJax.Callback.Queue(["Clear",this.signal]),f=0,g=d.elements.length;g>f;f++)if(d.elements[f]){var h={scripts:[],start:(new Date).getTime(),i:0,j:0,jax:{},jaxIDs:[]};e.Push(["Post",this.signal,["Begin "+a,d.elements[f]]],["Post",this.signal,["Begin Math",d.elements[f],a]],["prepareScripts",this,a,d.elements[f],h],["Post",this.signal,["Begin Math Input",d.elements[f],a]],["processInput",this,h],["Post",this.signal,["End Math Input",d.elements[f],a]],["prepareOutput",this,h,"preProcess"],["Post",this.signal,["Begin Math Output",d.elements[f],a]],["processOutput",this,h],["Post",this.signal,["End Math Output",d.elements[f],a]],["prepareOutput",this,h,"postProcess"],["Post",this.signal,["End Math",d.elements[f],a]],["Post",this.signal,["End "+a,d.elements[f]]])}return e.Push(d.callback)},scriptAction:{Process:function(){},Update:function(a){var b=a.MathJax.elementJax;b&&b.needsUpdate()?(b.Remove(!0),a.MathJax.state=b.STATE.UPDATE):a.MathJax.state=b.STATE.PROCESSED},Reprocess:function(a){var b=a.MathJax.elementJax;b&&(b.Remove(!0),a.MathJax.state=b.STATE.UPDATE)},Rerender:function(a){var b=a.MathJax.elementJax;b&&(b.Remove(!0),a.MathJax.state=b.STATE.OUTPUT)}},prepareScripts:function(a,b,c){if(!arguments.callee.disabled)for(var d=this.elementScripts(b),e=MathJax.ElementJax.STATE,f=0,g=d.length;g>f;f++){var h=d[f];h.type&&this.inputJax[h.type.replace(/ *;(.|\n)*/,"")]&&(h.MathJax&&(h.MathJax.elementJax&&h.MathJax.elementJax.hover&&MathJax.Extension.MathEvents.Hover.ClearHover(h.MathJax.elementJax),h.MathJax.state!==e.PENDING&&this.scriptAction[a](h)),h.MathJax||(h.MathJax={state:e.PENDING}),h.MathJax.state!==e.PROCESSED&&c.scripts.push(h))}},checkScriptSiblings:function(a){if(!a.MathJax.checked){var b=this.config,c=a.previousSibling;if(c&&"#text"===c.nodeName){var d,e,f=a.nextSibling;f&&"#text"!==f.nodeName&&(f=null),b.preJax&&("string"==typeof b.preJax&&(b.preJax=new RegExp(b.preJax+"$")),d=c.nodeValue.match(b.preJax)),b.postJax&&f&&("string"==typeof b.postJax&&(b.postJax=new RegExp("^"+b.postJax)),e=f.nodeValue.match(b.postJax)),!d||b.postJax&&!e||(c.nodeValue=c.nodeValue.replace(b.preJax,d.length>1?d[1]:""),c=null),!e||b.preJax&&!d||(f.nodeValue=f.nodeValue.replace(b.postJax,e.length>1?e[1]:"")),c&&!c.nodeValue.match(/\S/)&&(c=c.previousSibling)}b.preRemoveClass&&c&&c.className===b.preRemoveClass&&(a.MathJax.preview=c),a.MathJax.checked=1}},processInput:function(a){var b,c,d,e=MathJax.ElementJax.STATE,f=a.scripts.length;try{for(;a.i<f;)if(c=a.scripts[a.i])if(d=c.previousSibling,d&&"MathJax_Error"===d.className&&d.parentNode.removeChild(d),c.MathJax&&c.MathJax.state!==e.PROCESSED){if(c.MathJax.elementJax&&c.MathJax.state!==e.UPDATE)c.MathJax.state===e.OUTPUT&&this.saveScript(c.MathJax.elementJax,a,c,e);else{this.checkScriptSiblings(c);var g=c.type.replace(/ *;(.|\s)*/,"");if(b=this.inputJax[g].Process(c,a),"function"==typeof b){if(b.called)continue;this.RestartAfter(b)}b.Attach(c,this.inputJax[g].id),this.saveScript(b,a,c,e)}a.i++;var h=(new Date).getTime();h-a.start>this.processUpdateTime&&a.i<a.scripts.length&&(a.start=h,this.RestartAfter(MathJax.Callback.Delay(1)))}else a.i++;else a.i++}catch(i){return this.processError(i,a,"Input")}return a.scripts.length&&this.config.showProcessingMessages&&MathJax.Message.Set(["ProcessMath","Processing math: %1%%",100],0),a.start=(new Date).getTime(),a.i=a.j=0,null},saveScript:function(a,b,c,d){if(!this.outputJax[a.mimeType])throw c.MathJax.state=d.UPDATE,Error("No output jax registered for "+a.mimeType);a.outputJax=this.outputJax[a.mimeType][0].id,b.jax[a.outputJax]||(0===b.jaxIDs.length?b.jax[a.outputJax]=b.scripts:(1===b.jaxIDs.length&&(b.jax[b.jaxIDs[0]]=b.scripts.slice(0,b.i)),b.jax[a.outputJax]=[]),b.jaxIDs.push(a.outputJax)),b.jaxIDs.length>1&&b.jax[a.outputJax].push(c),c.MathJax.state=d.OUTPUT},prepareOutput:function(a,b){for(;a.j<a.jaxIDs.length;){var c=a.jaxIDs[a.j],d=MathJax.OutputJax[c];if(d[b])try{var e=d[b](a);if("function"==typeof e){if(e.called)continue;this.RestartAfter(e)}}catch(f){return f.restart||(MathJax.Message.Set(["PrepError","Error preparing %1 output (%2)",c,b],null,600),MathJax.Hub.lastPrepError=f,a.j++),MathJax.Callback.After(["prepareOutput",this,a,b],f.restart)}a.j++}return null},processOutput:function(a){var b,c,d=MathJax.ElementJax.STATE,e=a.scripts.length;try{for(;a.i<e;)if(c=a.scripts[a.i],c&&c.MathJax&&!c.MathJax.error){var f=c.MathJax.elementJax;if(f){b=MathJax.OutputJax[f.outputJax].Process(c,a),c.MathJax.state=d.PROCESSED,a.i++,c.MathJax.preview&&(c.MathJax.preview.innerHTML=""),this.signal.Post(["New Math",f.inputID]);var g=(new Date).getTime();g-a.start>this.processUpdateTime&&a.i<a.scripts.length&&(a.start=g,this.RestartAfter(MathJax.Callback.Delay(this.processUpdateDelay)))}else a.i++}else a.i++}catch(h){return this.processError(h,a,"Output")}return a.scripts.length&&this.config.showProcessingMessages&&(MathJax.Message.Set(["TypesetMath","Typesetting math: %1%%",100],0),MathJax.Message.Clear(0)),a.i=a.j=0,null},processMessage:function(a,b){var c=Math.floor(a.i/a.scripts.length*100),d="Output"===b?["TypesetMath","Typesetting math: %1%%"]:["ProcessMath","Processing math: %1%%"];this.config.showProcessingMessages&&MathJax.Message.Set(d.concat(c),0)},processError:function(a,b,c){if(!a.restart){if(!this.config.errorSettings.message)throw a;this.formatError(b.scripts[b.i],a),b.i++}return this.processMessage(b,c),MathJax.Callback.After(["process"+c,this,b],a.restart)},formatError:function(a,b){var c="Error: "+b.message+"\n";b.sourceURL&&(c+="\nfile: "+b.sourceURL),b.line&&(c+="\nline: "+b.line),a.MathJax.error=MathJax.OutputJax.Error.Jax(c,a);var d=this.config.errorSettings,e=MathJax.Localization._(d.messageId,d.message),f=MathJax.HTML.Element("span",{className:"MathJax_Error",jaxID:"Error",isMathJax:!0},e);MathJax.Extension.MathEvents?(f.oncontextmenu=MathJax.Extension.MathEvents.Event.Menu,f.onmousedown=MathJax.Extension.MathEvents.Event.Mousedown):MathJax.Ajax.Require("[MathJax]/extensions/MathEvents.js",function(){f.oncontextmenu=MathJax.Extension.MathEvents.Event.Menu,f.onmousedown=MathJax.Extension.MathEvents.Event.Mousedown}),a.parentNode.insertBefore(f,a),a.MathJax.preview&&(a.MathJax.preview.innerHTML=""),this.lastError=b,this.signal.Post(["Math Processing Error",a,b])},RestartAfter:function(a){throw this.Insert(Error("restart"),{restart:MathJax.Callback(a)})},elementCallback:function(a,b){if(null==b&&(a instanceof Array||"function"==typeof a))try{MathJax.Callback(a),b=a,a=null}catch(c){}null==a&&(a=this.config.elements||[]),a instanceof Array||(a=[a]),a=[].concat(a);for(var d=0,e=a.length;e>d;d++)"string"==typeof a[d]&&(a[d]=document.getElementById(a[d]));return document.body||(document.body=document.getElementsByTagName("body")[0]),0==a.length&&a.push(document.body),b||(b={}),{elements:a,callback:b}},elementScripts:function(a){if(a instanceof Array){for(var b=[],c=0,d=a.length;d>c;c++)b.push.apply(b,this.elementScripts(a[c]));return b}return"string"==typeof a&&(a=document.getElementById(a)),document.body||(document.body=document.getElementsByTagName("body")[0]),null==a&&(a=document.body),null!=a.tagName&&"script"===a.tagName.toLowerCase()?[a]:a.getElementsByTagName("script")},Insert:function(a,b){for(var c in b)b.hasOwnProperty(c)&&("object"!=typeof b[c]||b[c]instanceof Array||"object"!=typeof a[c]&&"function"!=typeof a[c]?a[c]=b[c]:this.Insert(a[c],b[c]));return a},SplitList:"trim"in String.prototype?function(a){return a.trim().split(/\s+/)}:function(a){return a.replace(/^\s+/,"").replace(/\s+$/,"").split(/\s+/)}},MathJax.Hub.Insert(MathJax.Hub.config.styles,MathJax.Message.styles),MathJax.Hub.Insert(MathJax.Hub.config.styles,{".MathJax_Error":MathJax.Hub.config.errorSettings.style}),MathJax.Extension={},MathJax.Hub.Configured=MathJax.Callback({}),MathJax.Hub.Startup={script:"",queue:MathJax.Callback.Queue(),signal:MathJax.Callback.Signal("Startup"),params:{},Config:function(){if(this.queue.Push(["Post",this.signal,"Begin Config"]),this.params.locale&&(MathJax.Localization.resetLocale(this.params.locale),MathJax.Hub.config.menuSettings.locale=this.params.locale),this.params.config)for(var a=this.params.config.split(/,/),b=0,c=a.length;c>b;b++)a[b].match(/\.js$/)||(a[b]+=".js"),this.queue.Push(["Require",MathJax.Ajax,this.URL("config",a[b])]);this.queue.Push(["Config",MathJax.Hub,MathJax.AuthorConfig]),this.script.match(/\S/)&&this.queue.Push(this.script+";\n1;"),this.queue.Push(["ConfigDelay",this],["ConfigBlocks",this],[function(a){return a.loadArray(MathJax.Hub.config.config,"config",null,!0)},this],["Post",this.signal,"End Config"])},ConfigDelay:function(){var a=this.params.delayStartupUntil||MathJax.Hub.config.delayStartupUntil;return"onload"===a?this.onload:"configured"===a?MathJax.Hub.Configured:a},ConfigBlocks:function(){for(var a=document.getElementsByTagName("script"),b=null,c=MathJax.Callback.Queue(),d=0,e=a.length;e>d;d++){var f=String(a[d].type).replace(/ /g,"");f.match(/^text\/x-mathjax-config(;.*)?$/)&&!f.match(/;executed=true/)&&(a[d].type+=";executed=true",b=c.Push(a[d].innerHTML+";\n1;"))}return b},Cookie:function(){return this.queue.Push(["Post",this.signal,"Begin Cookie"],["Get",MathJax.HTML.Cookie,"menu",MathJax.Hub.config.menuSettings],[function(a){a.menuSettings.locale&&MathJax.Localization.resetLocale(a.menuSettings.locale);var b=a.menuSettings.renderer,c=a.jax;if(b){var d="output/"+b;c.sort();for(var e=0,f=c.length;f>e&&"output/"!==c[e].substr(0,7);e++);if(e==f-1)c.pop();else for(;f>e;){if(c[e]===d){c.splice(e,1);break}e++}c.unshift(d)}},MathJax.Hub.config],["Post",this.signal,"End Cookie"])},Styles:function(){return this.queue.Push(["Post",this.signal,"Begin Styles"],["loadArray",this,MathJax.Hub.config.styleSheets,"config"],["Styles",MathJax.Ajax,MathJax.Hub.config.styles],["Post",this.signal,"End Styles"])},Jax:function(){for(var a=MathJax.Hub.config,b=MathJax.Hub.outputJax,c=0,d=a.jax.length,e=0;d>c;c++){var f=a.jax[c].substr(7);"output/"===a.jax[c].substr(0,7)&&null==b.order[f]&&(b.order[f]=e,e++)}var g=MathJax.Callback.Queue();return g.Push(["Post",this.signal,"Begin Jax"],["loadArray",this,a.jax,"jax","config.js"],["Post",this.signal,"End Jax"])},Extensions:function(){var a=MathJax.Callback.Queue();return a.Push(["Post",this.signal,"Begin Extensions"],["loadArray",this,MathJax.Hub.config.extensions,"extensions"],["Post",this.signal,"End Extensions"])},Message:function(){MathJax.Message.Init(!0)},Menu:function(){var a,b=MathJax.Hub.config.menuSettings,c=MathJax.Hub.outputJax;for(var d in c)if(c.hasOwnProperty(d)&&c[d].length){a=c[d];break}a&&a.length&&(b.renderer&&b.renderer!==a[0].id&&a.unshift(MathJax.OutputJax[b.renderer]),b.renderer=a[0].id)},Hash:function(){if(MathJax.Hub.config.positionToHash&&document.location.hash&&document.body&&document.body.scrollIntoView){var a=document.location.hash.substr(1),b=document.getElementById(a);if(!b)for(var c=document.getElementsByTagName("a"),d=0,e=c.length;e>d;d++)if(c[d].name===a){b=c[d];break}if(b){for(;!b.scrollIntoView;)b=b.parentNode;b=this.HashCheck(b),b&&b.scrollIntoView&&setTimeout(function(){b.scrollIntoView(!0)},1)}}},HashCheck:function(a){if(a.isMathJax){var b=MathJax.Hub.getJaxFor(a);b&&MathJax.OutputJax[b.outputJax].hashCheck&&(a=MathJax.OutputJax[b.outputJax].hashCheck(a))}return a},MenuZoom:function(){MathJax.Hub.config.showMathMenu&&(MathJax.Extension.MathMenu?setTimeout(MathJax.Callback(["loadDomain",MathJax.Localization,"MathMenu"]),1e3):setTimeout(function(){MathJax.Callback.Queue(["Require",MathJax.Ajax,"[MathJax]/extensions/MathMenu.js",{}],["loadDomain",MathJax.Localization,"MathMenu"])},1e3),MathJax.Extension.MathZoom||setTimeout(MathJax.Callback(["Require",MathJax.Ajax,"[MathJax]/extensions/MathZoom.js",{}]),2e3))},onLoad:function(){var a=this.onload=MathJax.Callback(function(){MathJax.Hub.Startup.signal.Post("onLoad")});if(document.body&&document.readyState)if(MathJax.Hub.Browser.isMSIE){if("complete"===document.readyState)return[a]}else if("loading"!==document.readyState)return[a];return window.addEventListener?(window.addEventListener("load",a,!1),this.params.noDOMContentEvent||window.addEventListener("DOMContentLoaded",a,!1)):window.attachEvent?window.attachEvent("onload",a):window.onload=a,a},Typeset:function(a,b){return MathJax.Hub.config.skipStartupTypeset?function(){}:this.queue.Push(["Post",this.signal,"Begin Typeset"],["Typeset",MathJax.Hub,a,b],["Post",this.signal,"End Typeset"])},URL:function(a,b){return b.match(/^([a-z]+:\/\/|\[|\/)/)||(b="[MathJax]/"+a+"/"+b),b},loadArray:function(a,b,c,d){if(a&&(a instanceof Array||(a=[a]),a.length)){for(var e,f=MathJax.Callback.Queue(),g={},h=0,i=a.length;i>h;h++)e=this.URL(b,a[h]),c&&(e+="/"+c),f.Push(d?["Require",MathJax.Ajax,e,g]:MathJax.Ajax.Require(e,g));return f.Push({})}return null}},function(a){var b=window[a],c="["+a+"]",d=b.Hub,e=b.Ajax,f=b.Callback,g=MathJax.Object.Subclass({JAXFILE:"jax.js",require:null,config:{},Init:function(a,b){return 0===arguments.length?this:this.constructor.Subclass(a,b)()},Augment:function(a,b){var c=this.constructor,e={};if(null!=a){for(var f in a)a.hasOwnProperty(f)&&("function"==typeof a[f]?c.protoFunction(f,a[f]):e[f]=a[f]);a.toString!==c.prototype.toString&&a.toString!=={}.toString&&c.protoFunction("toString",a.toString)}return d.Insert(c.prototype,e),c.Augment(null,b),this},Translate:function(){throw Error(this.directory+"/"+this.JAXFILE+" failed to define the Translate() method")},Register:function(){},Config:function(){this.config=d.CombineConfig(this.id,this.config),this.config.Augment&&this.Augment(this.config.Augment)},Startup:function(){},loadComplete:function(a){if("config.js"===a)return e.loadComplete(this.directory+"/"+a);var b=f.Queue();return b.Push(d.Register.StartupHook("End Config",{}),["Post",d.Startup.signal,this.id+" Jax Config"],["Config",this],["Post",d.Startup.signal,this.id+" Jax Require"],[function(a){return MathJax.Hub.Startup.loadArray(a.require,this.directory)},this],[function(a,b){return MathJax.Hub.Startup.loadArray(a.extensions,"extensions/"+b)},this.config||{},this.id],["Post",d.Startup.signal,this.id+" Jax Startup"],["Startup",this],["Post",d.Startup.signal,this.id+" Jax Ready"]),this.copyTranslate&&b.Push([function(a){a.preProcess=a.preTranslate,a.Process=a.Translate,a.postProcess=a.postTranslate},this.constructor.prototype]),b.Push(["loadComplete",e,this.directory+"/"+a])}},{id:"Jax",version:"2.4.0",directory:c+"/jax",extensionDir:c+"/extensions"});b.InputJax=g.Subclass({elementJax:"mml",sourceMenuTitle:["Original","Original Form"],copyTranslate:!0,Process:function(){var a,c=f.Queue(),g=this.elementJax;g instanceof Array||(g=[g]);for(var h=0,i=g.length;i>h;h++)a=b.ElementJax.directory+"/"+g[h]+"/"+this.JAXFILE,this.require?this.require instanceof Array||(this.require=[this.require]):this.require=[],this.require.push(a),c.Push(e.Require(a));a=this.directory+"/"+this.JAXFILE;var j=c.Push(e.Require(a));return j.called||(this.constructor.prototype.Process=function(){if(!j.called)return j;throw Error(a+" failed to load properly")}),g=d.outputJax["jax/"+g[0]],g&&c.Push(e.Require(g[0].directory+"/"+this.JAXFILE)),c.Push({})},needsUpdate:function(a){var c=a.SourceElement();return a.originalText!==b.HTML.getScript(c)},Register:function(a){d.inputJax||(d.inputJax={}),d.inputJax[a]=this}},{id:"InputJax",version:"2.4.0",directory:g.directory+"/input",extensionDir:g.extensionDir}),b.OutputJax=g.Subclass({copyTranslate:!0,preProcess:function(){var a,b=this.directory+"/"+this.JAXFILE;return this.constructor.prototype.preProcess=function(){if(!a.called)return a;throw Error(b+" failed to load properly")},a=e.Require(b)},Register:function(a){var c=d.outputJax;c[a]||(c[a]=[]),c[a].length&&(this.id===d.config.menuSettings.renderer||(c.order[this.id]||0)<(c.order[c[a][0].id]||0))?c[a].unshift(this):c[a].push(this),this.require?this.require instanceof Array||(this.require=[this.require]):this.require=[],this.require.push(b.ElementJax.directory+"/"+a.split(/\//)[1]+"/"+this.JAXFILE)},Remove:function(){}},{id:"OutputJax",version:"2.4.0",directory:g.directory+"/output",extensionDir:g.extensionDir,fontDir:c+(b.isPacked?"":"/..")+"/fonts",imageDir:c+(b.isPacked?"":"/..")+"/images"}),b.ElementJax=g.Subclass({Init:function(a,b){return this.constructor.Subclass(a,b)},inputJax:null,outputJax:null,inputID:null,originalText:"",mimeType:"",sourceMenuTitle:["MathMLcode","MathML Code"],Text:function(a,c){var e=this.SourceElement();return b.HTML.setScript(e,a),e.MathJax.state=this.STATE.UPDATE,d.Update(e,c)},Reprocess:function(a){var b=this.SourceElement();return b.MathJax.state=this.STATE.UPDATE,d.Reprocess(b,a)},Update:function(a){return this.Rerender(a)},Rerender:function(a){var b=this.SourceElement();return b.MathJax.state=this.STATE.OUTPUT,d.Process(b,a)},Remove:function(a){this.hover&&this.hover.clear(this),b.OutputJax[this.outputJax].Remove(this),a||(d.signal.Post(["Remove Math",this.inputID]),this.Detach())},needsUpdate:function(){return b.InputJax[this.inputJax].needsUpdate(this)},SourceElement:function(){return document.getElementById(this.inputID)},Attach:function(a,c){var d=a.MathJax.elementJax;return a.MathJax.state===this.STATE.UPDATE?d.Clone(this):(d=a.MathJax.elementJax=this,a.id?this.inputID=a.id:(a.id=this.inputID=b.ElementJax.GetID(),this.newID=1)),d.originalText=b.HTML.getScript(a),d.inputJax=c,d.root&&(d.root.inputID=d.inputID),d},Detach:function(){var a=this.SourceElement();if(a){try{delete a.MathJax}catch(b){a.MathJax=null}this.newID&&(a.id="")}},Clone:function(a){var b;for(b in this)this.hasOwnProperty(b)&&"undefined"==typeof a[b]&&"newID"!==b&&delete this[b];for(b in a)a.hasOwnProperty(b)&&("undefined"==typeof this[b]||this[b]!==a[b]&&"inputID"!==b)&&(this[b]=a[b])}},{id:"ElementJax",version:"2.4.0",directory:g.directory+"/element",extensionDir:g.extensionDir,ID:0,STATE:{PENDING:1,PROCESSED:2,UPDATE:3,OUTPUT:4},GetID:function(){return this.ID++,"MathJax-Element-"+this.ID},Subclass:function(){var a=g.Subclass.apply(this,arguments);return a.loadComplete=this.prototype.loadComplete,a}}),b.ElementJax.prototype.STATE=b.ElementJax.STATE,b.OutputJax.Error={id:"Error",version:"2.4.0",config:{},ContextMenu:function(){return b.Extension.MathEvents.Event.ContextMenu.apply(b.Extension.MathEvents.Event,arguments)},Mousedown:function(){return b.Extension.MathEvents.Event.AltContextMenu.apply(b.Extension.MathEvents.Event,arguments)},getJaxFromMath:function(a){return(a.nextSibling.MathJax||{}).error},Jax:function(a,b){var c=MathJax.Hub.inputJax[b.type.replace(/ *;(.|\s)*/,"")];return{inputJax:(c||{id:"Error"}).id,outputJax:"Error",sourceMenuTitle:["ErrorMessage","Error Message"],sourceMenuFormat:"Error",originalText:MathJax.HTML.getScript(b),errorText:a}}},b.InputJax.Error={id:"Error",version:"2.4.0",config:{},sourceMenuTitle:["Original","Original Form"]}}("MathJax"),function(a){var b=window[a];b||(b=window[a]={});var c=b.Hub,d=c.Startup,e=c.config,f=document.getElementsByTagName("head")[0];f||(f=document.childNodes[0]);for(var g=(document.documentElement||document).getElementsByTagName("script"),h=new RegExp("(^|/)"+a+"\\.js(\\?.*)?$"),i=g.length-1;i>=0;i--)if((g[i].src||"").match(h)){if(d.script=g[i].innerHTML,RegExp.$2)for(var j=RegExp.$2.substr(1).split(/\&/),k=0,l=j.length;l>k;k++){var m=j[k].match(/(.*)=(.*)/);m&&(d.params[unescape(m[1])]=unescape(m[2]))}e.root=g[i].src.replace(/(^|\/)[^\/]*(\?.*)?$/,"").replace(/^(https?:)\/\/[0-9a-f]+(-[0-9a-f]+)?.ssl.cf1.rackcdn.com\//,"$1//cdn.mathjax.org/"),b.Ajax.config.root=e.root;break}var n=navigator.userAgent,o={isMac:"Mac"===navigator.platform.substr(0,3),isPC:"Win"===navigator.platform.substr(0,3),isMSIE:"ActiveXObject"in window&&"clipboardData"in window,isFirefox:n.match(/Gecko\//)&&!n.match(/like Gecko/),isSafari:null!=n.match(/ (Apple)?WebKit\//)&&(!window.chrome||null==window.chrome.loadTimes),isChrome:null!=window.chrome&&null!=window.chrome.loadTimes,isOpera:null!=window.opera&&null!=window.opera.version,isKonqueror:"konqueror"in window&&"KDE"==navigator.vendor,versionAtLeast:function(a){var b=this.version.split(".");a=new String(a).split(".");for(var c=0,d=a.length;d>c;c++)if(b[c]!=a[c])return parseInt(b[c]||"0")>=parseInt(a[c]);return!0},Select:function(a){var b=a[c.Browser];return b?b(c.Browser):null}},p=n.replace(/^Mozilla\/(\d+\.)+\d+ /,"").replace(/[a-z][-a-z0-9._: ]+\/\d+[^ ]*-[^ ]*\.([a-z][a-z])?\d+ /i,"").replace(/Gentoo |Ubuntu\/(\d+\.)*\d+ (\([^)]*\) )?/,"");c.Browser=c.Insert(c.Insert(new String("Unknown"),{version:"0.0"}),o);for(var q in o)if(o.hasOwnProperty(q)&&o[q]&&"is"===q.substr(0,2)){if(q=q.slice(2),"Mac"===q||"PC"===q)continue;c.Browser=c.Insert(new String(q),o);var r=new RegExp(".*(Version/| Trident/.*; rv:)((?:\\d+\\.)+\\d+)|.*("+q+")"+("MSIE"==q?" ":"/")+"((?:\\d+\\.)*\\d+)|(?:^|\\(| )([a-z][-a-z0-9._: ]+|(?:Apple)?WebKit)/((?:\\d+\\.)+\\d+)"),s=r.exec(p)||["","","","unknown","0.0"];c.Browser.name=""!=s[1]?q:s[3]||s[5],c.Browser.version=s[2]||s[4]||s[6];break}c.Browser.Select({Safari:function(a){var b=parseInt(String(a.version).split(".")[0]);b>85&&(a.webkit=a.version),b>=534?a.version="5.1":b>=533?a.version="5.0":b>=526?a.version="4.0":b>=525?a.version="3.1":b>500?a.version="3.0":b>400?a.version="2.0":b>85&&(a.version="1.0"),a.isMobile=null!=navigator.appVersion.match(/Mobile/i),a.noContextMenu=a.isMobile},Firefox:function(a){if(("0.0"===a.version||null==n.match(/Firefox/))&&"Gecko"===navigator.product){var b=n.match(/[\/ ]rv:(\d+\.\d.*?)[\) ]/);if(b)a.version=b[1];else{var c=(navigator.buildID||navigator.productSub||"0").substr(0,8);c>="20111220"?a.version="9.0":c>="20111120"?a.version="8.0":c>="20110927"?a.version="7.0":c>="20110816"?a.version="6.0":c>="20110621"?a.version="5.0":c>="20110320"?a.version="4.0":c>="20100121"?a.version="3.6":c>="20090630"?a.version="3.5":c>="20080617"?a.version="3.0":c>="20061024"&&(a.version="2.0")}}a.isMobile=null!=navigator.appVersion.match(/Android/i)||null!=n.match(/ Fennec\//)||null!=n.match(/Mobile/)},Opera:function(a){a.version=opera.version()},MSIE:function(a){a.isIE9=!(!document.documentMode||!window.performance&&!window.msPerformance),MathJax.HTML.setScriptBug=!a.isIE9||document.documentMode<9;var b=!1;try{new ActiveXObject("MathPlayer.Factory.1"),a.hasMathPlayer=b=!0}catch(c){}try{if(b&&!d.params.NoMathPlayer){var e=document.createElement("object");e.id="mathplayer",e.classid="clsid:32F66A20-7614-11D4-BD11-00104BD3F987",document.getElementsByTagName("head")[0].appendChild(e),document.namespaces.add("m","http://www.w3.org/1998/Math/MathML"),a.mpNamespace=!0,!document.readyState||"loading"!==document.readyState&&"interactive"!==document.readyState||(document.write('<?import namespace="m" implementation="#MathPlayer">'),a.mpImported=!0)}else document.namespaces.add("mjx_IE_fix","http://www.w3.org/1999/xlink")}catch(c){}}}),c.Browser.Select(MathJax.Message.browsers),b.AuthorConfig&&"function"==typeof b.AuthorConfig.AuthorInit&&b.AuthorConfig.AuthorInit(),c.queue=b.Callback.Queue(),c.queue.Push(["Post",d.signal,"Begin"],["Config",d],["Cookie",d],["Styles",d],["Message",d],function(){var a=b.Callback.Queue(d.Jax(),d.Extensions());return a.Push({})},["Menu",d],d.onLoad(),function(){MathJax.isReady=!0},["Typeset",d],["Hash",d],["MenuZoom",d],["Post",d.signal,"End"])}("MathJax"))),angular.module("qti",["ngSanitize","pearsonvue","com.2fdevs.videogular","com.2fdevs.videogular.plugins.controls","com.2fdevs.videogular.plugins.overlayplay","com.2fdevs.videogular.plugins.buffering","com.2fdevs.videogular.plugins.poster"]),angular.module("qti").constant("ATTR_MAP",{fontsize:"font-size",fontface:"font-family",backgroundColor:"background-color",width:"width",height:"height"}),angular.module("qti").directive("assessment",function(){return{restrict:"E",scope:!0,transclude:!0,templateUrl:"templates/assessment.html",link:function(a,b,c){a.assessment={id:c.ident,title:c.title}}}}),angular.module("qti").directive("qtiEngine",["$http","$compile","helpers",function(a,b,c){function d(a){return a.split(" ").join("__SPACE__")}function e(a){return a.split(" ").join("__TAB__")}function f(a){for(var b,f,g,h,i=c.strToXML(a),j=i.querySelectorAll("mattext"),k=0;k<j.length;k++){b=j[k],f=b.childNodes;for(var l=0;l<f.length;l++)g=f[l],3===g.nodeType&&(h=g.nodeValue.replace(/\s{2,}/gim,d),h=h.replace(/\t{2,}/gim,e),g.nodeValue=h)}var m=new XMLSerializer;return a=m.serializeToString(i),a=a.split("__SPACE__").join("&nbsp;&#8203;"),a=a.split("__TAB__").join("&nbsp;&nbsp;&nbsp;&#8203;")}function g(a){return a.split("<![CDATA[").join("").split("]]>").join("")}function h(a){return a.replace(/<dyn type="text\/groovy">(\s?)+return(\s?)+((.|\n)*?)(;?)<\/dyn>/gim,"{{ $3 }}")}function i(a){return a.replace(/\${(\s?)+((.|\n)*?)\}/gim,"{{ system.$2 }}")}return{restrict:"E",scope:!0,link:function(d,e,j){a.get(j.src).then(function(a){{var j=a.data;c.strToXML(j)}j=f(j),j=g(j),j=h(j),j=i(j);var k=b(j),l=k(d);e.append(l)})}}}]),angular.module("qti").directive("flowMat",["ATTR_MAP",function(a){return{restrict:"E",scope:!0,link:function(b,c,d){for(var e in d)a[e]&&c.css(a[e],isNaN(d[e])?d[e]:d[e]+"px")}}}]),angular.module("qti").directive("img",function(){return{restrict:"E",scope:!0,link:function(a,b,c){c.hasOwnProperty("align")&&b.css("vertical-align",c.align)}}}),angular.module("qti").directive("item",["$sce",function(a){return{restrict:"E",scope:!0,link:function(a,b,c){a.item.questionId=c.ident,a.$broadcast("item::ready")},controller:["$scope",function(b){b.objective=null,b.item={},b.trustHtml=function(b){return a.trustAsHtml(b)}}]}}]),angular.module("qti").directive("matimage",["helpers",function(a){return{restrict:"E",scope:!0,link:function(b,c,d){var e,f;f=a.strToXML("<img />").firstChild;var g;switch(d.valign){case"top":g="top";break;case"bottom":g="bottom";break;default:g="middle"}var h="vertical-align:"+g+";";d.hasOwnProperty("width")&&(h+="width:"+d.width+"px;"),d.hasOwnProperty("height")&&(h+="height:"+d.height+"px;"),d.hasOwnProperty("uri")?f.setAttribute("src",d.uri):d.hasOwnProperty("embedded")&&(e="data:image/jpg;base64,",f.setAttribute("src",e+c.text())),d.hasOwnProperty("alt")&&f.setAttribute("alt",d.alt),f.setAttribute("style",h),c.html(f.outerHTML)}}}]),angular.module("qti").directive("mattext",["$sce",function(){return{restrict:"E",scope:!0,link:function(a,b,c){c.hasOwnProperty("width")&&b.css("width",c.width+"px"),c.hasOwnProperty("height")&&b.css("height",c.height+"px"),c.hasOwnProperty("fontface")&&b.css("font-family",c.fontface),c.hasOwnProperty("fontsize")&&b.css("font-size",c.fontsize+"px")}}}]),angular.module("qti").directive("matvideo",["$compile",function(){return{restrict:"E",scope:!0,templateUrl:"templates/video.html",controller:["$scope","$sce",function(a,b){a.currentTime=0,a.totalTime=0,a.state=null,a.volume=1,a.isCompleted=!1,a.API=null,a.onPlayerReady=function(b){a.API=b},a.onCompleteVideo=function(){a.isCompleted=!0},a.onUpdateState=function(b){a.state=b},a.onUpdateTime=function(b,c){a.currentTime=b,a.totalTime=c},a.onUpdateVolume=function(b){a.volume=b},a.onUpdateSize=function(b,c){a.config.width=b,a.config.height=c},a.audio=[{src:b.trustAsResourceUrl("http://www.videogular.com/assets/audios/videogular.mp3")+"",type:"audio/mpeg"},{src:b.trustAsResourceUrl("http://www.videogular.com/assets/audios/videogular.ogg")+"",type:"audio/ogg"}],a.videos=[{sources:[{src:b.trustAsResourceUrl("http://www.videogular.com/assets/videos/videogular.mp4")+"",type:"video/mp4"},{src:b.trustAsResourceUrl("http://www.videogular.com/assets/videos/videogular.webm")+"",type:"video/webm"},{src:b.trustAsResourceUrl("http://www.videogular.com/assets/videos/videogular.ogg")+"",type:"video/ogg"}],tracks:[{src:"assets/subs/pale-blue-dot.vtt",kind:"subtitles",srclang:"en",label:"English","default":""}]},{sources:[{src:b.trustAsResourceUrl("http://www.videogular.com/assets/videos/big_buck_bunny_720p_h264.mov")+"",type:"video/mp4"},{src:b.trustAsResourceUrl("http://www.videogular.com/assets/videos/big_buck_bunny_720p_stereo.ogg")+"",type:"video/ogg"}]}],a.config={autoHide:!1,autoHideTime:3e3,autoPlay:!1,sources:a.videos[0].sources,tracks:a.videos[0].tracks,loop:!0,preload:"auto",transclude:!0,controls:void 0,theme:{url:"styles/themes/default/videogular.css"},plugins:{poster:{url:"assets/images/videogular.png"}}},a.changeSource=function(){a.config.sources=a.videos[1].sources,a.config.tracks=void 0,a.config.loop=!1,a.config.preload=!0}}]}}]),angular.module("qti").directive("objectives",function(){return{restrict:"E",link:function(a,b,c){a.objectives[c.ident]=b[0].querySelector("mattext").innerHTML,b[0].outerHTML=null,a.$on("item::ready",function(){})},controller:["$scope",function(a){a.objectives=a.objectives||{}}]}}),angular.module("qti").directive("p",["$compile",function(a){function b(a){var b={};if(a)for(var c,d,e,f=a.split(";"),g=0;g<f.length;g+=1)c=f[g].split(":"),d=(c[0]+"").trim(),e=(c[1]+"").trim(),"interval"===d?b[d]=Number(e):"tabset"===d?b[d]=JSON.parse('{"list": ['+e+"]}").list:"alignment"===d&&(b[d]=e.match(/\w+/gim),1===b[d].length&&(b[d]=b[d][0]));return b}return{restrict:"E",scope:!0,link:function(c,d,e){var f,g,h=b(e.tabStops),i=d.html();i=i.split("	").join('<span style="padding-right:'+h.interval+'in"></span>'),i="<div>"+i+"</div>",f=a(i),g=f(c),d.empty(),d.append(g)}}}]),angular.module("qti").directive("presentation",["ATTR_MAP",function(a){return{restrict:"E",transclude:!0,templateUrl:"templates/presentation.html",link:function(b,c,d){var e=c[0].querySelector("mattext");e&&(b.item.question=e.innerHTML);for(var f in d)a[f]&&c.css(a[f],isNaN(d[f])?d[f]:d[f]+"px");b.$on("item::ready",function(){})},controller:["$scope",function(){}]}}]),angular.module("qti").directive("responseLid",function(){return{restrict:"E",scope:!0,transclude:!0,templateUrl:"templates/question-type.html",link:function(a,b,c){a.item.type=c.rcardinality},controller:["$scope",function(){}]}}),angular.module("qti").filter("type",function(){return function(a){switch(a){case"multiple":return"Matching"}return"One Correct Option"}}),angular.module("qti").service("helpers",function(){this.strToXML=function(a){var b,c;return window.DOMParser?(b=new DOMParser,c=b.parseFromString(a,"text/xml")):(c=new ActiveXObject("Microsoft.XMLDOM"),c.async=!1,c.loadXML(a)),c}
}),angular.module("com.2fdevs.videogular.plugins.buffering",[]).directive("vgBuffering",["VG_UTILS",function(a){return{restrict:"E",require:"^videogular",template:"<div class='bufferingContainer'><div ng-class='spinnerClass' class='loadingSpinner'></div></div>",link:function(b,c,d,e){function f(){b.spinnerClass={stop:e.isBuffering},c.css("display","block")}function g(){b.spinnerClass={stop:e.isBuffering},c.css("display","none")}function h(a){a?f():g()}function i(a){a&&g()}f(),a.isMobileDevice()?g():b.$watch(function(){return e.isReady},function(a,b){a!=b&&i(a)}),b.$watch(function(){return e.isBuffering},function(a,b){a!=b&&h(a)})}}}]),angular.module("com.2fdevs.videogular.plugins.controls",[]).directive("vgControls",["$timeout","VG_STATES",function(a){return{restrict:"E",require:"^videogular",transclude:!0,template:'<div id="controls-container" ng-mousemove="onMouseMove()" ng-class="animationClass" ng-transclude></div>',scope:{autoHide:"=vgAutohide",autoHideTime:"=vgAutohideTime"},link:function(b){function c(){b.animationClass="hide-animation"}function d(){b.animationClass="show-animation",a.cancel(e),b.autoHide&&(e=a(c,f))}var e,f=2e3;b.onMouseMove=function(){b.autoHide&&d()},void 0!=b.autoHide&&b.$watch("autoHide",function(c){c?b.animationClass="hide-animation":(b.animationClass="",a.cancel(e),d())}),void 0!=b.autoHideTime&&b.$watch("autoHideTime",function(a){f=a})}}}]).directive("vgPlayPauseButton",["VG_STATES",function(a){return{restrict:"E",require:"^videogular",template:"<button class='iconButton' ng-click='onClickPlayPause()' ng-class='playPauseIcon' aria-label='Play/Pause'></button>",link:function(b,c,d,e){function f(c){switch(c){case a.PLAY:b.playPauseIcon={pause:!0};break;case a.PAUSE:b.playPauseIcon={play:!0};break;case a.STOP:b.playPauseIcon={play:!0}}}b.onClickPlayPause=function(){e.playPause()},b.playPauseIcon={play:!0},b.$watch(function(){return e.currentState},function(a,b){a!=b&&f(a)})}}}]).directive("vgTimedisplay",[function(){return{require:"^videogular",restrict:"E",link:function(a,b,c,d){a.$watch(function(){return d.currentTime},function(b,c){b!=c&&(a.currentTime=b)}),a.$watch(function(){return d.timeLeft},function(b,c){b!=c&&(a.timeLeft=b)}),a.$watch(function(){return d.totalTime},function(b,c){b!=c&&(a.totalTime=b)})}}}]).directive("vgScrubbar",["VG_STATES","VG_UTILS",function(a,b){return{restrict:"AE",require:"^videogular",transclude:!0,template:'<div role="slider" aria-valuemax="{{ariaTime(API.totalTime)}}" aria-valuenow="{{ariaTime(API.currentTime)}}" aria-valuemin="0" aria-label="Time scrub bar" tabindex="0" ng-transclude ng-keydown="onScrubBarKeyDown($event)"></div>',link:function(c,d,e,f){function g(a){var e,g=a.originalEvent||a,h=g.touches;s=b.isiOSDevice()?-1*(h[0].clientX-g.layerX):g.layerX,e=h[0].clientX+s-h[0].target.offsetLeft,p=!0,q&&(r=!0),f.pause(),n(e*f.mediaElement[0].duration/d[0].scrollWidth),c.$apply()}function h(a){a.originalEvent||a;r&&(r=!1,f.play()),p=!1,c.$apply()}function h(a){var b,e=a.originalEvent||a,g=e.touches;p&&(b=g[0].clientX+s-g[0].target.offsetLeft,n(b*f.mediaElement[0].duration/d[0].scrollWidth)),c.$apply()}function i(){p=!1,c.$apply()}function j(a){a=b.fixEventOffset(a),p=!0,q&&(r=!0),f.pause(),n(a.offsetX*f.mediaElement[0].duration/d[0].scrollWidth),c.$apply()}function k(a){a=b.fixEventOffset(a),r&&(r=!1,f.play()),p=!1,n(a.offsetX*f.mediaElement[0].duration/d[0].scrollWidth),c.$apply()}function l(a){p&&(a=b.fixEventOffset(a),n(a.offsetX*f.mediaElement[0].duration/d[0].scrollWidth)),c.$apply()}function m(){p=!1,c.$apply()}function n(a){f.seekTime(a,!1)}function o(b){if(!p)switch(b){case a.PLAY:q=!0;break;case a.PAUSE:q=!1;break;case a.STOP:q=!1}}var p=!1,q=!1,r=!1,s=0,t=37,u=39,v=1;c.API=f,c.ariaTime=function(a){return 0===a?"0":Math.round(a.getTime()/1e3)},c.onScrubBarKeyDown=function(a){var b=f.currentTime.getTime()/f.totalTime.getTime()*100;a.which===t||a.keyCode===t?(f.seekTime(b-v,!0),a.preventDefault()):(a.which===u||a.keyCode===u)&&(f.seekTime(b+v,!0),a.preventDefault())},c.$watch(function(){return f.currentState},function(a,b){a!=b&&o(a)}),b.isMobileDevice()?(d.bind("touchstart",g),d.bind("touchend",onScrubBarTouchEnd),d.bind("touchmove",h),d.bind("touchleave",i)):(d.bind("mousedown",j),d.bind("mouseup",k),d.bind("mousemove",l),d.bind("mouseleave",m))}}}]).directive("vgScrubbarcurrenttime",[function(){return{restrict:"E",require:"^videogular",link:function(a,b,c,d){function e(a){a&&d.totalTime&&(g=-1*a.getTime()/1e3*100/(-1*d.totalTime.getTime()/1e3),b.css("width",g+"%"))}function f(){g=0,b.css("width",g+"%")}var g=0;a.$watch(function(){return d.currentTime},function(a){e(a)}),a.$watch(function(){return d.isCompleted},function(a){f(a)})}}}]).directive("vgVolume",["VG_UTILS",function(a){return{restrict:"E",link:function(b,c){function d(){b.volumeVisibility="visible",b.$apply()}function e(){b.volumeVisibility="hidden",b.$apply()}a.isMobileDevice()?c.css("display","none"):(b.volumeVisibility="hidden",c.bind("mouseover",d),c.bind("mouseleave",e))}}}]).directive("vgVolumebar",["VG_UTILS",function(a){return{restrict:"E",require:"^videogular",template:"<div class='verticalVolumeBar'><div class='volumeBackground' ng-click='onClickVolume($event)' ng-mousedown='onMouseDownVolume()' ng-mouseup='onMouseUpVolume()' ng-mousemove='onMouseMoveVolume($event)' ng-mouseleave='onMouseLeaveVolume()'><div class='volumeValue'></div><div class='volumeClickArea'></div></div></div>",link:function(b,c,d,e){function f(a){a=100*a,j.css("height",a+"%"),j.css("top",100-a+"%")}function g(a){c.css("visibility",a)}var h=!1,i=angular.element(c[0].getElementsByClassName("volumeBackground")),j=angular.element(c[0].getElementsByClassName("volumeValue"));b.onClickVolume=function(b){b=a.fixEventOffset(b);var c=parseInt(i.prop("offsetHeight")),d=100*b.offsetY/c,f=1-d/100;e.setVolume(f)},b.onMouseDownVolume=function(){h=!0},b.onMouseUpVolume=function(){h=!1},b.onMouseLeaveVolume=function(){h=!1},b.onMouseMoveVolume=function(b){if(h){b=a.fixEventOffset(b);var c=parseInt(i.prop("offsetHeight")),d=100*b.offsetY/c,f=1-d/100;e.setVolume(f)}},c.css("visibility",b.volumeVisibility),b.$watch("volumeVisibility",g),b.$watch(function(){return e.volume},function(a,b){a!=b&&f(a)})}}}]).directive("vgMutebutton",[function(){return{restrict:"E",require:"^videogular",template:"<button class='iconButton' ng-class='muteIcon' ng-click='onClickMute()' ng-focus='onMuteButtonFocus()' ng-blur='onMuteButtonLoseFocus()' ng-keydown='onMuteButtonKeyDown($event)' aria-label='Mute'></button>",link:function(a,b,c,d){function e(b){a.currentVolume=b,f?b>0&&(a.defaultVolume=b):a.defaultVolume=b;var c=Math.round(100*b);0==c?a.muteIcon={mute:!0}:c>0&&25>c?a.muteIcon={level0:!0}:c>=25&&50>c?a.muteIcon={level1:!0}:c>=50&&75>c?a.muteIcon={level2:!0}:c>=75&&(a.muteIcon={level3:!0})}var f=!1,g=38,h=40,i=.05;a.onClickMute=function(){f?a.currentVolume=a.defaultVolume:(a.currentVolume=0,a.muteIcon={mute:!0}),f=!f,d.setVolume(a.currentVolume)},a.onMuteButtonFocus=function(){a.volumeVisibility="visible"},a.onMuteButtonLoseFocus=function(){a.volumeVisibility="hidden"},a.onMuteButtonKeyDown=function(a){var b=null!=d.volume?d.volume:1;a.which===g||a.keyCode===g?(d.setVolume(b+i),a.preventDefault()):(a.which===h||a.keyCode===h)&&(d.setVolume(b-i),a.preventDefault())},a.defaultVolume=1,a.currentVolume=a.defaultVolume,a.muteIcon={level3:!0},a.$watch(function(){return d.volume},function(a,b){a!=b&&e(a)})}}}]).directive("vgFullscreenbutton",[function(){return{restrict:"AE",require:"^videogular",scope:{vgEnterFullScreenIcon:"=",vgExitFullScreenIcon:"="},template:"<button class='iconButton' ng-click='onClickFullScreen()' ng-class='fullscreenIcon' aria-label='Toggle full screen'></button>",link:function(a,b,c,d){function e(b){a.fullscreenIcon={enter:!b,exit:b}}a.onClickFullScreen=function(){d.toggleFullScreen()},a.fullscreenIcon={exit:!1},a.fullscreenIcon={enter:!0},a.$watch(function(){return d.isFullScreen},function(a,b){a!=b&&e(a)})}}}]),angular.module("com.2fdevs.videogular.plugins.imaads",[]).directive("vgImaAds",["$window","VG_STATES",function(a,b){return{restrict:"E",require:"^videogular",scope:{vgNetwork:"=",vgUnitPath:"=",vgCompanion:"=",vgCompanionSize:"=",vgAdTagUrl:"=",vgSkipButton:"="},link:function(c,d,e,f){function g(a){a&&(f.mediaElement[0].addEventListener("ended",A),u=f.videogularElement[0].offsetWidth,v=f.videogularElement[0].offsetHeight,x.addEventListener(google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,j,!1,this),x.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,p,!1,this),c.vgCompanion&&googletag.cmd.push(function(){googletag.defineSlot("/"+c.vgNetwork+"/"+c.vgUnitPath,c.vgCompanionSize,c.vgCompanion).addService(googletag.companionAds()).addService(googletag.pubads()),googletag.companionAds().setRefreshUnfilledSlots(!0),googletag.pubads().enableVideoAds(),googletag.enableServices()}))}function h(a){switch(a){case b.PLAY:z||(f.pause(),w.initialize(),i(c.vgAdTagUrl),z=!0);break;case b.STOP:x.contentComplete()}}function i(b){s();var c=new google.ima.AdsRequest,e=a.getComputedStyle(d[0]);c.adTagUrl=b,c.linearAdSlotWidth=parseInt(e.width,10),c.linearAdSlotHeight=parseInt(e.height,10),c.nonLinearAdSlotWidth=parseInt(e.width,10),c.nonLinearAdSlotHeight=parseInt(e.height,10),x.requestAds(c)}function j(a){s(),y=a.getAdsManager(f.mediaElement[0]),k(y)}function k(a){a.addEventListener(google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED,n,!1,this),a.addEventListener(google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED,o,!1,this),a.addEventListener(google.ima.AdEvent.Type.SKIPPABLE_STATE_CHANGED,l,!1,this),a.addEventListener(google.ima.AdEvent.Type.ALL_ADS_COMPLETED,q,!1,this),a.addEventListener(google.ima.AdEvent.Type.COMPLETE,r,!1,this),a.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,p,!1,this),a.init(u,v,google.ima.ViewMode.NORMAL),a.start()}function l(){var a=y.getAdSkippableState();a?C.css("display","block"):C.css("display","none")}function m(){y.skip()}function n(){s(),f.mediaElement[0].removeEventListener("ended",A),f.pause()}function o(){f.mediaElement[0].addEventListener("ended",A),f.play(),t()}function p(){y&&y.destroy(),t(),f.play()}function q(){t()}function r(){B++}function s(){d.css("display","block")}function t(){d.css("display","none")}var u,v,w=new google.ima.AdDisplayContainer(d[0]),x=new google.ima.AdsLoader(w),y=null,z=!1,A=function(){x.contentComplete()},B=0,C=angular.element(c.vgSkipButton);C.bind("click",m),d.prepend(C),angular.element(a).bind("resize",function(){u=f.videogularElement[0].offsetWidth,v=f.videogularElement[0].offsetHeight,y&&(f.isFullScreen?y.resize(u,v,google.ima.ViewMode.FULLSCREEN):y.resize(u,v,google.ima.ViewMode.NORMAL))}),c.$watch(function(){return f.isReady},function(a,b){a!=b&&g(a)}),c.$watch(function(){return f.currentState},function(a,b){a!=b&&h(a)})}}}]),angular.module("com.2fdevs.videogular.plugins.overlayplay",[]).directive("vgOverlayPlay",["VG_STATES",function(a){return{restrict:"E",require:"^videogular",template:"<div class='overlayPlayContainer' ng-click='onClickOverlayPlay()'><div class='iconButton' ng-class='overlayPlayIcon'></div></div>",link:function(b,c,d,e){function f(c){switch(c){case a.PLAY:b.overlayPlayIcon={};break;case a.PAUSE:b.overlayPlayIcon={play:!0};break;case a.STOP:b.overlayPlayIcon={play:!0}}}b.onClickOverlayPlay=function(){e.playPause()},b.overlayPlayIcon={play:!0},b.$watch(function(){return e.currentState},function(a,b){a!=b&&f(a)})}}}]),angular.module("com.2fdevs.videogular.plugins.poster",[]).directive("vgPosterImage",["VG_STATES",function(a){return{restrict:"E",require:"^videogular",scope:{vgUrl:"="},template:'<img ng-src="{{vgUrl}}">',link:function(b,c,d,e){function f(b){switch(b){case a.PLAY:c.css("display","none");break;case a.STOP:c.css("display","block")}}b.$watch(function(){return e.currentState},function(a,b){a!=b&&f(a)})}}}]),angular.module("com.2fdevs.videogular",["ngSanitize"]).constant("VG_STATES",{PLAY:"play",PAUSE:"pause",STOP:"stop"}).service("VG_UTILS",function(){this.fixEventOffset=function(a){if(navigator.userAgent.match(/Firefox/i)){var b=a.currentTarget.currentStyle||window.getComputedStyle(a.target,null),c=parseInt(b.borderLeftWidth,10),d=parseInt(b.borderTopWidth,10),e=a.currentTarget.getBoundingClientRect(),f=a.clientX-c-e.left,g=a.clientY-d-e.top;a.offsetX=f,a.offsetY=g}return a},this.getZIndex=function(){var a=1;return angular.element("*").filter(function(){return"auto"!==angular.element(this).css("zIndex")}).each(function(){var b=parseInt(angular.element(this).css("zIndex"));b>a&&(a=b+1)}),a},this.secondsToDate=function(a){var b=new Date;return b.setTime(1e3*a),b},this.isMobileDevice=function(){return"undefined"!=typeof window.orientation||-1!==navigator.userAgent.indexOf("IEMobile")},this.isiOSDevice=function(){return navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPod/i)||navigator.userAgent.match(/iPad/i)}}).run(["$window","VG_UTILS",function(a,b){var c,d={w3:{enabled:"fullscreenEnabled",element:"fullscreenElement",request:"requestFullscreen",exit:"exitFullscreen",onchange:"fullscreenchange",onerror:"fullscreenerror"},newWebkit:{enabled:"webkitFullscreenEnabled",element:"webkitFullscreenElement",request:"webkitRequestFullscreen",exit:"webkitExitFullscreen",onchange:"webkitfullscreenchange",onerror:"webkitfullscreenerror"},oldWebkit:{enabled:"webkitIsFullScreen",element:"webkitCurrentFullScreenElement",request:"webkitRequestFullScreen",exit:"webkitCancelFullScreen",onchange:"webkitfullscreenchange",onerror:"webkitfullscreenerror"},moz:{enabled:"mozFullScreen",element:"mozFullScreenElement",request:"mozRequestFullScreen",exit:"mozCancelFullScreen",onchange:"mozfullscreenchange",onerror:"mozfullscreenerror"},ios:{enabled:"webkitFullscreenEnabled",element:"webkitFullscreenElement",request:"webkitEnterFullscreen",exit:"webkitExitFullscreen",onchange:"webkitfullscreenchange",onerror:"webkitfullscreenerror"},ms:{enabled:"msFullscreenEnabled",element:"msFullscreenElement",request:"msRequestFullscreen",exit:"msExitFullscreen",onchange:"msfullscreenchange",onerror:"msfullscreenerror"}};for(var e in d)if(d[e].enabled in document){c=d[e],c.isFullScreen=function(){return null!=document[this.element]};break}b.isiOSDevice()&&(c=d.ios,c.isFullScreen=function(){return null!=document[this.element]}),angular.element(a)[0].fullScreenAPI=c}]).directive("videogular",["$window","VG_STATES","VG_UTILS",function(a,b,c){return{restrict:"E",scope:{theme:"=vgTheme",autoPlay:"=vgAutoplay",vgComplete:"&",vgUpdateVolume:"&",vgUpdateTime:"&",vgUpdateState:"&",vgPlayerReady:"&",vgChangeSource:"&"},controller:["$scope","$timeout",function(d,e){var f=null,g=!1,h=!1,i=d.vgComplete(),j=d.vgUpdateVolume(),k=d.vgUpdateTime(),l=d.vgUpdateState(),m=d.vgPlayerReady(),n=d.vgChangeSource();this.videogularElement=null,this.clearMedia=function(){d.API.mediaElement[0].src=""},this.onMobileVideoReady=function(a,b){this.onVideoReady(a,b,!0)},this.onVideoReady=function(a,f,g){d.API.isReady=!0,d.API.currentState=b.STOP,g||d.$apply(),h=!0,d.vgPlayerReady()&&(m=d.vgPlayerReady())(d.API),(d.autoPlay&&!c.isMobileDevice()||d.API.currentState===b.PLAY)&&e(function(){d.API.play()})},this.onUpdateTime=function(a){d.API.currentTime=c.secondsToDate(a.target.currentTime),d.API.totalTime=c.secondsToDate(a.target.duration),d.API.timeLeft=c.secondsToDate(a.target.duration-a.target.currentTime),d.vgUpdateTime()&&(k=d.vgUpdateTime())(a.target.currentTime,a.target.duration),d.$apply()},this.$on=function(){d.$on.apply(d,arguments)},this.seekTime=function(a,b){var e;b?(e=a*d.API.mediaElement[0].duration/100,d.API.mediaElement[0].currentTime=e):(e=a,d.API.mediaElement[0].currentTime=e),d.API.currentTime=c.secondsToDate(e)},this.playPause=function(){d.API.mediaElement[0].paused?this.play():this.pause()},this.setState=function(a){return a&&a!=d.API.currentState&&(d.vgUpdateState()&&(l=d.vgUpdateState())(a),d.API.currentState=a),d.API.currentState},this.play=function(){d.API.mediaElement[0].play(),this.setState(b.PLAY)},this.pause=function(){d.API.mediaElement[0].pause(),this.setState(b.PAUSE)},this.stop=function(){d.API.mediaElement[0].pause(),d.API.mediaElement[0].currentTime=0,this.setState(b.STOP)},this.toggleFullScreen=function(){angular.element(a)[0].fullScreenAPI?angular.element(a)[0].fullScreenAPI.isFullScreen()?c.isMobileDevice()||document[angular.element(a)[0].fullScreenAPI.exit]():c.isMobileDevice()?c.isiOSDevice()?h?this.enterElementInFullScreen(d.API.mediaElement[0]):(g=!0,this.play()):this.enterElementInFullScreen(d.API.mediaElement[0]):this.enterElementInFullScreen(d.API.videogularElement[0]):(d.API.isFullScreen?(d.API.videogularElement.removeClass("fullscreen"),d.API.videogularElement.css("z-index",0)):(d.API.videogularElement.addClass("fullscreen"),d.API.videogularElement.css("z-index",c.getZIndex())),d.API.isFullScreen=!d.API.isFullScreen)},this.enterElementInFullScreen=function(b){b[angular.element(a)[0].fullScreenAPI.request]()},this.changeSource=function(a){d.vgChangeSource()&&(n=d.vgChangeSource())(a)},this.setVolume=function(a){d.vgUpdateVolume()&&(j=d.vgUpdateVolume())(a),d.API.mediaElement[0].volume=a,d.API.volume=a},this.updateTheme=function(a){if(f)for(var b=document.getElementsByTagName("link"),c=0,d=b.length;d>c;c++)b[c].outerHTML.indexOf(f)>=0&&b[c].parentNode.removeChild(b[c]);if(a){var e=angular.element(document).find("head");e.append("<link rel='stylesheet' href='"+a+"'>"),f=a}},this.onStartBuffering=function(){d.API.isBuffering=!0},this.onStartPlaying=function(a){a.target.width++,a.target.width--,d.API.isBuffering=!1},this.onComplete=function(){d.vgComplete()&&(i=d.vgComplete())(),d.API.setState(b.STOP),d.API.isCompleted=!0,d.$apply()},d.API=this,d.init=function(){d.API.isReady=!1,d.API.isCompleted=!1,d.API.currentTime=0,d.API.totalTime=0,d.API.timeLeft=0,d.API.updateTheme(d.theme),d.addBindings(),angular.element(a)[0].fullScreenAPI&&document.addEventListener(angular.element(a)[0].fullScreenAPI.onchange,d.onFullScreenChange)},d.addBindings=function(){d.$watch("theme",function(a,b){a!=b&&d.API.updateTheme(a)}),d.$watch("autoPlay",function(a,b){a!=b&&a&&d.API.play()})},d.onFullScreenChange=function(){d.API.isFullScreen=angular.element(a)[0].fullScreenAPI.isFullScreen(),d.$apply()},d.$on("$destroy",this.clearMedia),d.$on("$routeChangeStart",this.clearMedia),d.init()}],link:{pre:function(a,b,c,d){d.videogularElement=angular.element(b)}}}}]).directive("vgVideo",["$compile","VG_UTILS",function(a,b){return{restrict:"E",require:"^videogular",scope:{vgSrc:"=",vgLoop:"=",vgPreload:"=",vgNativeControls:"=",vgTracks:"="},link:function(c,d,e,f){var g='<video vg-source="vgSrc" ';g+="></video>",f.mediaElement=angular.element(g);var h=a(f.mediaElement)(c);f.mediaElement[0].addEventListener("loadedmetadata",f.onVideoReady,!1),f.mediaElement[0].addEventListener("waiting",f.onStartBuffering,!1),f.mediaElement[0].addEventListener("ended",f.onComplete,!1),f.mediaElement[0].addEventListener("playing",f.onStartPlaying,!1),f.mediaElement[0].addEventListener("timeupdate",f.onUpdateTime,!1),d.append(h),b.isMobileDevice()&&(f.mediaElement[0].removeEventListener("loadedmetadata",f.onVideoReady,!1),f.onMobileVideoReady())}}}]).directive("vgAudio",["$compile","VG_UTILS",function(a,b){return{restrict:"E",require:"^videogular",scope:{vgSrc:"=",vgLoop:"=",vgPreload:"=",vgNativeControls:"=",vgTracks:"="},link:function(c,d,e,f){var g='<audio vg-source="vgSrc" ';g+="></audio>",f.mediaElement=angular.element(g);var h=a(f.mediaElement)(c);f.mediaElement[0].addEventListener("loadedmetadata",f.onVideoReady,!1),f.mediaElement[0].addEventListener("waiting",f.onStartBuffering,!1),f.mediaElement[0].addEventListener("ended",f.onComplete,!1),f.mediaElement[0].addEventListener("playing",f.onStartPlaying,!1),f.mediaElement[0].addEventListener("timeupdate",f.onUpdateTime,!1),d.append(h),b.isMobileDevice()&&(f.mediaElement[0].removeEventListener("loadedmetadata",f.onVideoReady,!1),f.onMobileVideoReady())}}}]).directive("vgSource",[function(){return{restrict:"A",link:{pre:function(a,b,c){function d(){if(f="",b[0].canPlayType){for(var a=0,c=e.length;c>a;a++)if(f=b[0].canPlayType(e[a].type),"maybe"==f||"probably"==f){b.attr("src",e[a].src),b.attr("type",e[a].type);break}}else b.attr("src",e[0].src),b.attr("type",e[0].type)}var e,f;a.$watch(c.vgSource,function(a,b){e&&a==b||!a||(e=a,d())})}}}}]).directive("vgTracks",[function(){return{restrict:"A",require:"^videogular",link:{pre:function(a,b,c,d){function e(){var a=d.mediaElement.children();for(h=0,i=a.length;i>h;h++)a[h].remove();if(f)for(h=0,i=f.length;i>h;h++){g="",g+="<track ";for(var b in f[h])g+=b+'="'+f[h][b]+'" ';g+="></track>",d.mediaElement.append(g,f[h].src)}}var f,g,h,i;a.$watch(c.vgTracks,function(a,b){f&&a==b||(f=a,d.tracks=f,e())})}}}}]).directive("vgLoop",[function(){return{restrict:"A",require:"^videogular",link:{pre:function(a,b,c,d){var e;a.$watch(c.vgLoop,function(a,b){e&&a==b||!a?d.mediaElement.removeAttr("loop"):(e=a,d.mediaElement.attr("loop",e))})}}}}]).directive("vgPreload",[function(){return{restrict:"A",require:"^videogular",link:{pre:function(a,b,c,d){var e;a.$watch(c.vgPreload,function(a,b){e&&a==b||!a?d.mediaElement.removeAttr("preload"):(e=a,d.mediaElement.attr("preload",e))})}}}}]).directive("vgNativeControls",[function(){return{restrict:"A",require:"^videogular",link:{pre:function(a,b,c,d){var e;a.$watch(c.vgNativeControls,function(a,b){e&&a==b||!a?d.mediaElement.removeAttr("controls"):(e=a,d.mediaElement.attr("controls",""))})}}}}])}({},function(){return this}());