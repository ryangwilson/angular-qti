!function(a,b){b.platty=a,function(a,b){b.platty=a;var c={},d={},e={},f=function(b){var d=Array.prototype.slice.call(arguments);"function"==typeof d[1]?a[b]=d[1]():(c[b]=d[2],c[b].$inject=d[1],c[b].$internal=!1)},g=function(a){var b=Array.prototype.slice.call(arguments);"function"==typeof b[1]?d[a]=b[1]():(c[a]=b[2],c[a].$inject=b[1],c[a].$internal=!0)},h=function(b,f){e[b]=!0;var g,i=f.$inject,j=[];for(var k in i)if(g=i[k],c[g]){if(e[g])throw new Error('Cyclical reference: "'+b+'" referencing "'+g+'"');h(g,c[g]),delete c[g]}if(!a[b]&&!d[b]){for(var l in i)g=i[l],j.push(a[g]||d[g]);f.$internal?d[b]=f.apply(null,j):a[b]=f.apply(null,j)}delete e[b]};g("string.supplant",function(){return String.prototype.supplant||(String.prototype.supplant=function(a){return this.replace(/{([^{}]*)}/g,function(b,c){var d=a[c];return"string"==typeof d||"number"==typeof d?d:b})}),!0}),f("dispatcher",function(){var a=function(a,b,c){function d(a,b){var c,d;d=j[a],d&&(b?(c=d.indexOf(b),-1!==c&&d.splice(c,1)):d.length=0)}function e(a,b){return j[a]=j[a]||[],j[a].push(b),function(){d(a,b)}}function f(c,f){function g(){d(c,g),f.apply(b||a,arguments)}return e(c,g)}function g(a){return j[a]}function h(b,c){return b&&b.apply(a,c)}function i(a){if(j[a])for(var b=0,c=j[a],d=c.length;d>b;)h(c[b],arguments),b+=1;j.all&&"all"!==a&&i("all")}var j={};b&&c?(a.on=b[c.on]&&b[c.on].bind(b),a.off=b[c.off]&&b[c.off].bind(b),a.once=b[c.once]&&b[c.once].bind(b),a.dispatch=a.fire=b[c.dispatch].bind(b)):(a.on=e,a.off=d,a.once=f,a.dispatch=a.fire=i),a.getListeners=g};return a}),f("extend",["toArray"],function(a){var b=function(c){for(var d,e,f=a(arguments),g=1,h=f.length,i=this||{};h>g;){d=f[g];for(e in d)d.hasOwnProperty(e)&&(c[e]&&"object"==typeof c[e]&&!d[e]instanceof Array?c[e]=b.apply(i,[c[e],d[e]]):d[e]instanceof Array?(c[e]=c[e]||(i&&i.arrayAsObject?{length:d[e].length}:[]),d[e].length&&(c[e]=b.apply(i,[c[e],d[e]]))):d[e]&&"object"==typeof d[e]?(i.objectsAsArray&&"number"==typeof d[e].length&&(c[e]instanceof Array||(c[e]=[])),c[e]=b.apply(i,[c[e]||{},d[e]])):c[e]=d[e]);g+=1}return c};return b}),f("toArray",["isArguments","isArray","isUndefined"],function(a,b,c){var d=function(d){if(a(d))return Array.prototype.slice.call(d,0)||[];try{if(b(d))return d;if(!c(d))return[].concat(d)}catch(e){}return[]};return d}),f("isArguments",function(a){var b=function(b){var c=String(b),d="[object Arguments]"===c;return d||(d="[object Array]"!==c&&null!==b&&"object"==typeof b&&"number"==typeof b.length&&b.length>=0&&"[object Function]"===a.call(b.callee)),d};return b}),f("isArray",function(){Array.prototype.__isArray=!0,Object.defineProperty(Array.prototype,"__isArray",{enumerable:!1,writable:!0});var a=function(a){return a?!!a.__isArray:!1};return a}),f("isUndefined",function(){var a=function(a){return"undefined"==typeof a};return a}),f("injector",function(){function a(a){var b;return a instanceof Array&&(a=a.concat(),b=a.pop(),b.$inject=a,a=b),a}function b(a,b){function c(){return a.apply(this,b)}return c.prototype=a.prototype,new c}function c(a){var b=a.toString();return b.match(/\(.*\)/)[0].match(/([\$\w])+/gm)}function d(){this.registered={},this.preProcessor=null}var e="string",f="function",g=d.prototype;return g.val=function(a,b){var c,d=a.toLowerCase();return void 0!==b?this.registered[d]=b:this.preProcessor&&(c=this.preProcessor(a,this.registered[d]),void 0!==c&&(this.registered[d]=c)),this.registered[d]},g.invoke=function(b,c,d){return b=a(b),b.apply(c,this.prepareArgs(b,d,c))},g.instantiate=function(c,d){return c=a(c),b(c,this.prepareArgs(c,d))},g.prepareArgs=function(a,b,d){a.$inject||(a.$inject=c(a));var e,f=a.$inject?a.$inject.slice():[],g=f.length;for(e=0;g>e;e+=1)this.getInjection(f[e],e,f,b,d);return f},g.getArgs=c,g.getInjection=function(a,b,c,d,g){var h,i;if(d&&d[a]?h=d[a]:void 0!==(i=this.val(a))&&(h=i),void 0===h)throw new Error("Injection not found for "+a);h instanceof Array&&typeof h[0]===e&&typeof h[h.length-1]===f&&(h=this.invoke(h.concat(),g)),c[b]=h},function(){return new d}});for(var i in c)h(i,c[i])}({},function(){return this}())}({},function(){return this}());