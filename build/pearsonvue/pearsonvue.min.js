!function(a,b){b["qti-1.2-engine"]=a,angular.module("qti.plugins").service("expression",function(){window.hasOwnProperty("MathJax")&&(MathJax.Hub.Config({"HTML-CSS":{preferredFont:"STIX"}}),setTimeout(function(){MathJax.Hub.Configured()},1e3))}).run(["expression",function(){}]),angular.module("qti").directive("item",["$sce",function(){return{restrict:"E",require:["?item"],link:function(a,b){var c=b[0];if(c.querySelector("pearsonvue_referencematerial")){c.querySelector("pearsonvue_splitpresentation")&&console.log("yup there is a splitter");var d=c.querySelectorAll("pearsonvue_itemreference");d.length&&console.log("item refs",d.length)}}}}]),angular.module("qti.plugins").directive("pearsonvueMatExtension",["$compile","helpers",function(a,b){"use strict";var c=function(a,b,c){var d=a.getAttribute("style")||"";d+=";"+b+":"+c,a.setAttribute("style",d)},d=function(a,b){switch(a){case"numeric":return Number((b+"").replace(/(\D+)/gim,""));case"dictionary-case-insensitive":return b;case"asciibetical":return b}return e(b+"")},e=function(a){for(var b="",c=0;c<a.length;c++){var d=a.charCodeAt(c);b+="&#"+d+";"}return b},f=function(a){return a===parseFloat(a,10)};return{restrict:"E",link:function(e,g){var h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x;e.head={},e.body=[],e.sort={},e.selectedCls=function(a){return a===e.sort.column?e.sort.reverse?"table-icon-chevron-down":"table-icon-chevron-up":void 0},e.changeSorting=function(a,b){if(b){var c=e.sort;c.column===a?c.reverse=!c.reverse:(c.column=a,c.reverse=!1)}},e.isEven=function(a){return f(a)&&a%2===0},e.isOdd=function(a){return f(a)&&Math.abs(a)%2===1},h=g[0].innerHTML;var y=h.match(/<nth-child(.|\n)*?nth-child>/gim);if(y&&(y=b.strToXML(y[0]).firstChild),h=h.replace(/<nth-child(.|\n)*?nth-child>/gim,""),i=b.strToXML(h).firstChild,i.hasAttribute("border")&&(j=i.getAttribute("border")||"1"),x=i.querySelector("thead tr").getAttribute("bgcolor")||"red",j&&(c(i,"border-width",j+"px"),i.removeAttribute("border"),i.setAttribute("data-border",j)),i.hasAttribute("cellspacing")){var z=(i.getAttribute("cellspacing")||0)+"px";c(i,"border-spacing",z)}if(i.hasAttribute("bgcolor")){var A=i.getAttribute("bgcolor");c(i,"background-color",A)}for(c(i,"border-color",x),l=i.querySelectorAll("colgroup"),p=i.querySelectorAll("th"),q=i.querySelectorAll("td"),s=[],k=0;k<q.length;k++)s.push(q[k].textContent),t=k%p.length,0===t&&(u={},e.body.push(u)),u["col_"+t]={width:l[t].getAttribute("width"),label:q[k].textContent,value:d(l[t].getAttribute("sort_rule"),q[k].textContent),rule:l[t].getAttribute("sort_rule")};var B=(i.getAttribute("cellpadding")||0)+"px";for(k=0;k<p.length;k++){c(p[k],"padding",B);var C=l[k].getAttribute("sort_rule")||"";C&&(p[k].setAttribute("ng-click","changeSorting('col_"+k+".value', '"+C+"')"),p[k].insertAdjacentHTML("afterBegin",'<span class="sort-indicator" ng-class="selectedCls(\'col_'+k+".value')\"></span>"))}if(m=i.querySelector("tbody"),o=i.querySelector("tbody tr"),o.setAttribute("ng-repeat","row in body | orderBy:sort.column:sort.reverse"),y){var D=y.getAttribute("count"),E=y.getAttribute("bgcolor");switch(D){case"odd":o.setAttribute("ng-style","{ background: (isOdd($index) && '"+E+"' || 'none') }");break;case"even":o.setAttribute("ng-style","{ background: (isEven($index) && '"+E+"' || 'none') }");break;default:o.setAttribute("ng-style","{ background: ($index == "+(D-1)+" && '"+E+"' || 'none') }")}console.log("nthChild",y.getAttribute("count"))}for(n=i.querySelectorAll("tbody > tr > td"),k=0;k<p.length;k+=1){for(c(n[k],"padding",B),r=n[k];r.firstChild;)r=r.firstChild;r.nodeValue="{{row.col_"+k+".label}}"}m.innerHTML=o.outerHTML,v=a(i.outerHTML),w=v(e),g.empty(),g.append(w)}}}]),angular.module("qti.plugins").directive("pearsonvueObjectivesref",function(){return{restrict:"E",link:function(){}}}),angular.module("qti").directive("matimageAddon",function(){return{scope:!0,link:function(a,b){var c=0,d=0,e="px",f="px",g=!1,h=function(){g&&a.currentScaleFactor&&(b.css("width",c*a.currentScaleFactor.factor+e),b.css("height",d*a.currentScaleFactor.factor+f))};a.$on("scalefactor::changed",function(){h()}),b.bind("load",function(){g=!0;var a=window.getComputedStyle(b[0]);c=a.width.replace(/\D+/i,""),e=a.width.replace(/\d+/i,""),d=a.height.replace(/\D+/i,""),f=a.height.replace(/\d+/i,""),h()})}}}),angular.module("qti").directive("mattext",function(){return{scope:!0,link:function(a,b){var c=b[0],d=window.getComputedStyle(c),e=d.fontSize,f=e.replace(/\D+/i,""),g=e.replace(/\d+/i,""),h=1,i=function(){b.css("fontSize",f*h+g)};a.$on("scalefactor::changed",function(a,b){h=b,i()})}}}),angular.module("qti.plugins").directive("pearsonvueScalefactors",["$compile",function(a){return function(b,c){for(var d,e,f=c[0].querySelectorAll("*"),g=[],h="%",i=0;i<f.length;i+=1)d=f[i],e={isDefault:!!d.getAttribute("default"),factor:Number(d.getAttribute("factor"))},g.push(e),e.isDefault&&(b.currentScaleFactor=e);b.zoomIn=function(){var a=g.indexOf(b.currentScaleFactor);a+1<g.length&&(a+=1),b.currentScaleFactor=g[a],b.$broadcast("scalefactor::changed",b.currentScaleFactor.factor)},b.zoomOut=function(){var a=g.indexOf(b.currentScaleFactor);a-1>=0&&(a-=1),b.currentScaleFactor=g[a],b.$broadcast("scalefactor::changed",b.currentScaleFactor.factor)};var j='<a class="btn-zoom-in" href="" ng-click="zoomIn()"></a>',k='<a class="btn-zoom-out" href="" ng-click="zoomOut()"><a>',l=angular.element('<div style="font-size: 14px;padding: 10px">'+j+k+"</div>"),m=a(l);c.append(l),m(b),c[0].parentNode.style["font-size"]=100*b.currentScaleFactor.factor+h}}])}({},function(){return this}());